<?php

class Rrule extends Controller
{
	
	function test()
	{
		if (!CheckPermissions('admin')) return;
			
		$this->load->model('calendar/recurrence_model');
		
		$this->main_frame->SetTitle('Testing iCalendar RRULE examples');
		$this->load->library('academic_calendar');
		$this->main_frame->SetContent(new Rrule_selftester());
		$this->main_frame->Load();
	}
	
}

class Rrule_selftester
{
	protected $selftests = array();
	
	function __construct()
	{
		$this->_init_selftests();
	}
	
	protected function runselftest($default, &$arr_rrule, $expected = array(), $inf = false)
	{
		$rrule = new CalendarRecurRule($arr_rrule);
		$results = array();
		$max = mktime(0,0,0,1,1,2020);
		
		if (NULL === $rrule->GetCount()) {
			$rrule->SetCount(600);
		}
		$rrule->Recur($results, $default, $max);
		if (empty($expected) || array_key_exists('debug', $rrule)) {
			echo('<pre>'."\n\n");
			foreach ($results as $k=>$result) {
				echo($k.' => '.$result.', ');
				if ($k % 10 == 9) {
					echo("\n");
				}
			}
			echo("\n\n");
			foreach ($results as $result) {
				echo(date(DATE_RFC822, $result)."\n");
			}
			echo("\n\n".'</pre>');
			return 2;
		}
		foreach ($results as $k=>$v) {
			if (!array_key_exists($k, $expected) || $expected[$k] !== $v) {
				return 1;
			}
		}
		foreach ($expected as $k=>$v) {
			if (!array_key_exists($k, $results) || $results[$k] !== $v) {
				return 1;
			}
		}
		return 0;
	}
	
	
	function Load()
	{
		echo('<p><em>Examples from <a href="http://www.ietf.org/rfc/rfc2445.txt">http://www.ietf.org/rfc/rfc2445.txt</a></em></p>');
		foreach ($this->selftests as $key => $selftest) {
			echo($selftest['description'].'<br />');
			foreach ($selftest['rrule'] as $rrid => $rrule) {
				echo('Self test '.$key.' #'.($rrid+1).'... ');
				switch ($this->runselftest($selftest['default'], $rrule, $selftest['expected'])) {
				case 1:
					echo '<font color="#FF0000">failed</font>';
					break;
				case 0:
					echo '<font color="#00A000">passed</font>';
					break;
				case 2:
					echo '<font color="#0000FF">debug</font>';
					break;
				}
				if (isset($rrule['comment'])) {
					echo ' (<font color="#FF8000">'.$rrule['comment'].'</font>)';
				}
				echo('<br />'."\n");
			}
			echo('<br />');
		}
	}
	
	
	
	protected function _init_selftests()
	{
		$this->selftests = array(
			0 => array(
				'description' => 'Daily for 10 occurrences',
				'default' => new Academic_time(mktime(9,0,0, 9, 2, 1997)),
				'rrule' => array(array(
					'freq'       => 'daily',
					'count'      => 10,
					'until'      => NULL,
					'interval'   => 1,
					'bysecond'   => array(),
					'byminute'   => array(),
					'byhour'     => array(),
					'byyearday'  => array(),
					'byweekno'   => array(),
					'bymonthday' => array(),
					'byday'      => array(),
					'bymonth'    => array(),
					'bysetpos'   => array(),
					'wkst'       => 1, // monday
				)),
				'expected' => Array(
					0 => 873187200, 1 => 873273600, 2 => 873360000, 3 => 873446400, 4 => 873532800, 5 => 873619200, 6 => 873705600, 7 => 873792000, 8 => 873878400, 9 => 873964800, 
				),
			),
			1 => array(
				'description' => 'Daily until december 24th 1997',
				'default' => new Academic_time(mktime(9,0,0,9, 2, 1997 )),
				'rrule' => array(array(
					'freq'       => 'daily',
					'count'      => NULL,
					'until'      => mktime(0,0,0,12,24,1997),
					'interval'   => 1,
					'bysecond'   => array(),
					'byminute'   => array(),
					'byhour'     => array(),
					'byyearday'  => array(),
					'byweekno'   => array(),
					'bymonthday' => array(),
					'byday'      => array(),
					'bymonth'    => array(),
					'bysetpos'   => array(),
					'wkst'       => 1, // monday
				)),
				'expected' => Array(
					0 => 873187200, 1 => 873273600, 2 => 873360000, 3 => 873446400, 4 => 873532800, 5 => 873619200, 6 => 873705600, 7 => 873792000, 8 => 873878400, 9 => 873964800, 
					10 => 874051200, 11 => 874137600, 12 => 874224000, 13 => 874310400, 14 => 874396800, 15 => 874483200, 16 => 874569600, 17 => 874656000, 18 => 874742400, 19 => 874828800, 
					20 => 874915200, 21 => 875001600, 22 => 875088000, 23 => 875174400, 24 => 875260800, 25 => 875347200, 26 => 875433600, 27 => 875520000, 28 => 875606400, 29 => 875692800, 
					30 => 875779200, 31 => 875865600, 32 => 875952000, 33 => 876038400, 34 => 876124800, 35 => 876211200, 36 => 876297600, 37 => 876384000, 38 => 876470400, 39 => 876556800, 
					40 => 876643200, 41 => 876729600, 42 => 876816000, 43 => 876902400, 44 => 876988800, 45 => 877075200, 46 => 877161600, 47 => 877248000, 48 => 877334400, 49 => 877420800, 
					50 => 877507200, 51 => 877593600, 52 => 877680000, 53 => 877766400, 54 => 877856400, 55 => 877942800, 56 => 878029200, 57 => 878115600, 58 => 878202000, 59 => 878288400, 
					60 => 878374800, 61 => 878461200, 62 => 878547600, 63 => 878634000, 64 => 878720400, 65 => 878806800, 66 => 878893200, 67 => 878979600, 68 => 879066000, 69 => 879152400, 
					70 => 879238800, 71 => 879325200, 72 => 879411600, 73 => 879498000, 74 => 879584400, 75 => 879670800, 76 => 879757200, 77 => 879843600, 78 => 879930000, 79 => 880016400, 
					80 => 880102800, 81 => 880189200, 82 => 880275600, 83 => 880362000, 84 => 880448400, 85 => 880534800, 86 => 880621200, 87 => 880707600, 88 => 880794000, 89 => 880880400, 
					90 => 880966800, 91 => 881053200, 92 => 881139600, 93 => 881226000, 94 => 881312400, 95 => 881398800, 96 => 881485200, 97 => 881571600, 98 => 881658000, 99 => 881744400, 
					100 => 881830800, 101 => 881917200, 102 => 882003600, 103 => 882090000, 104 => 882176400, 105 => 882262800, 106 => 882349200, 107 => 882435600, 108 => 882522000, 109 => 882608400, 
					110 => 882694800, 111 => 882781200, 112 => 882867600, 
				),
			),
			'1.5' => array(
				'description' => 'Every other day - forever',
				'default' => new Academic_time(mktime(9,0,0, 9, 2, 1997)),
				'rrule' => array(array(
					'freq'       => 'daily',
					'count'      => NULL,
					'until'      => NULL,
					'interval'   => 2,
					'bysecond'   => array(),
					'byminute'   => array(),
					'byhour'     => array(),
					'byyearday'  => array(),
					'byweekno'   => array(),
					'bymonthday' => array(),
					'byday'      => array(),
					'bymonth'    => array(),
					'bysetpos'   => array(),
					'wkst'       => 1, // monday
				)),
				'expected' => Array(
					0 => 873187200, 1 => 873360000, 2 => 873532800, 3 => 873705600, 4 => 873878400, 5 => 874051200, 6 => 874224000, 7 => 874396800, 8 => 874569600, 9 => 874742400, 
					10 => 874915200, 11 => 875088000, 12 => 875260800, 13 => 875433600, 14 => 875606400, 15 => 875779200, 16 => 875952000, 17 => 876124800, 18 => 876297600, 19 => 876470400, 
					20 => 876643200, 21 => 876816000, 22 => 876988800, 23 => 877161600, 24 => 877334400, 25 => 877507200, 26 => 877680000, 27 => 877856400, 28 => 878029200, 29 => 878202000, 
					30 => 878374800, 31 => 878547600, 32 => 878720400, 33 => 878893200, 34 => 879066000, 35 => 879238800, 36 => 879411600, 37 => 879584400, 38 => 879757200, 39 => 879930000, 
					40 => 880102800, 41 => 880275600, 42 => 880448400, 43 => 880621200, 44 => 880794000, 45 => 880966800, 46 => 881139600, 47 => 881312400, 48 => 881485200, 49 => 881658000, 
					50 => 881830800, 51 => 882003600, 52 => 882176400, 53 => 882349200, 54 => 882522000, 55 => 882694800, 56 => 882867600, 57 => 883040400, 58 => 883213200, 59 => 883386000, 
					60 => 883558800, 61 => 883731600, 62 => 883904400, 63 => 884077200, 64 => 884250000, 65 => 884422800, 66 => 884595600, 67 => 884768400, 68 => 884941200, 69 => 885114000, 
					70 => 885286800, 71 => 885459600, 72 => 885632400, 73 => 885805200, 74 => 885978000, 75 => 886150800, 76 => 886323600, 77 => 886496400, 78 => 886669200, 79 => 886842000, 
					80 => 887014800, 81 => 887187600, 82 => 887360400, 83 => 887533200, 84 => 887706000, 85 => 887878800, 86 => 888051600, 87 => 888224400, 88 => 888397200, 89 => 888570000, 
					90 => 888742800, 91 => 888915600, 92 => 889088400, 93 => 889261200, 94 => 889434000, 95 => 889606800, 96 => 889779600, 97 => 889952400, 98 => 890125200, 99 => 890298000, 
					100 => 890470800, 101 => 890643600, 102 => 890816400, 103 => 890989200, 104 => 891158400, 105 => 891331200, 106 => 891504000, 107 => 891676800, 108 => 891849600, 109 => 892022400, 
					110 => 892195200, 111 => 892368000, 112 => 892540800, 113 => 892713600, 114 => 892886400, 115 => 893059200, 116 => 893232000, 117 => 893404800, 118 => 893577600, 119 => 893750400, 
					120 => 893923200, 121 => 894096000, 122 => 894268800, 123 => 894441600, 124 => 894614400, 125 => 894787200, 126 => 894960000, 127 => 895132800, 128 => 895305600, 129 => 895478400, 
					130 => 895651200, 131 => 895824000, 132 => 895996800, 133 => 896169600, 134 => 896342400, 135 => 896515200, 136 => 896688000, 137 => 896860800, 138 => 897033600, 139 => 897206400, 
					140 => 897379200, 141 => 897552000, 142 => 897724800, 143 => 897897600, 144 => 898070400, 145 => 898243200, 146 => 898416000, 147 => 898588800, 148 => 898761600, 149 => 898934400, 
					150 => 899107200, 151 => 899280000, 152 => 899452800, 153 => 899625600, 154 => 899798400, 155 => 899971200, 156 => 900144000, 157 => 900316800, 158 => 900489600, 159 => 900662400, 
					160 => 900835200, 161 => 901008000, 162 => 901180800, 163 => 901353600, 164 => 901526400, 165 => 901699200, 166 => 901872000, 167 => 902044800, 168 => 902217600, 169 => 902390400, 
					170 => 902563200, 171 => 902736000, 172 => 902908800, 173 => 903081600, 174 => 903254400, 175 => 903427200, 176 => 903600000, 177 => 903772800, 178 => 903945600, 179 => 904118400, 
					180 => 904291200, 181 => 904464000, 182 => 904636800, 183 => 904809600, 184 => 904982400, 185 => 905155200, 186 => 905328000, 187 => 905500800, 188 => 905673600, 189 => 905846400, 
					190 => 906019200, 191 => 906192000, 192 => 906364800, 193 => 906537600, 194 => 906710400, 195 => 906883200, 196 => 907056000, 197 => 907228800, 198 => 907401600, 199 => 907574400, 
					200 => 907747200, 201 => 907920000, 202 => 908092800, 203 => 908265600, 204 => 908438400, 205 => 908611200, 206 => 908784000, 207 => 908956800, 208 => 909129600, 209 => 909306000, 
					210 => 909478800, 211 => 909651600, 212 => 909824400, 213 => 909997200, 214 => 910170000, 215 => 910342800, 216 => 910515600, 217 => 910688400, 218 => 910861200, 219 => 911034000, 
					220 => 911206800, 221 => 911379600, 222 => 911552400, 223 => 911725200, 224 => 911898000, 225 => 912070800, 226 => 912243600, 227 => 912416400, 228 => 912589200, 229 => 912762000, 
					230 => 912934800, 231 => 913107600, 232 => 913280400, 233 => 913453200, 234 => 913626000, 235 => 913798800, 236 => 913971600, 237 => 914144400, 238 => 914317200, 239 => 914490000, 
					240 => 914662800, 241 => 914835600, 242 => 915008400, 243 => 915181200, 244 => 915354000, 245 => 915526800, 246 => 915699600, 247 => 915872400, 248 => 916045200, 249 => 916218000, 
					250 => 916390800, 251 => 916563600, 252 => 916736400, 253 => 916909200, 254 => 917082000, 255 => 917254800, 256 => 917427600, 257 => 917600400, 258 => 917773200, 259 => 917946000, 
					260 => 918118800, 261 => 918291600, 262 => 918464400, 263 => 918637200, 264 => 918810000, 265 => 918982800, 266 => 919155600, 267 => 919328400, 268 => 919501200, 269 => 919674000, 
					270 => 919846800, 271 => 920019600, 272 => 920192400, 273 => 920365200, 274 => 920538000, 275 => 920710800, 276 => 920883600, 277 => 921056400, 278 => 921229200, 279 => 921402000, 
					280 => 921574800, 281 => 921747600, 282 => 921920400, 283 => 922093200, 284 => 922266000, 285 => 922438800, 286 => 922608000, 287 => 922780800, 288 => 922953600, 289 => 923126400, 
					290 => 923299200, 291 => 923472000, 292 => 923644800, 293 => 923817600, 294 => 923990400, 295 => 924163200, 296 => 924336000, 297 => 924508800, 298 => 924681600, 299 => 924854400, 
					300 => 925027200, 301 => 925200000, 302 => 925372800, 303 => 925545600, 304 => 925718400, 305 => 925891200, 306 => 926064000, 307 => 926236800, 308 => 926409600, 309 => 926582400, 
					310 => 926755200, 311 => 926928000, 312 => 927100800, 313 => 927273600, 314 => 927446400, 315 => 927619200, 316 => 927792000, 317 => 927964800, 318 => 928137600, 319 => 928310400, 
					320 => 928483200, 321 => 928656000, 322 => 928828800, 323 => 929001600, 324 => 929174400, 325 => 929347200, 326 => 929520000, 327 => 929692800, 328 => 929865600, 329 => 930038400, 
					330 => 930211200, 331 => 930384000, 332 => 930556800, 333 => 930729600, 334 => 930902400, 335 => 931075200, 336 => 931248000, 337 => 931420800, 338 => 931593600, 339 => 931766400, 
					340 => 931939200, 341 => 932112000, 342 => 932284800, 343 => 932457600, 344 => 932630400, 345 => 932803200, 346 => 932976000, 347 => 933148800, 348 => 933321600, 349 => 933494400, 
					350 => 933667200, 351 => 933840000, 352 => 934012800, 353 => 934185600, 354 => 934358400, 355 => 934531200, 356 => 934704000, 357 => 934876800, 358 => 935049600, 359 => 935222400, 
					360 => 935395200, 361 => 935568000, 362 => 935740800, 363 => 935913600, 364 => 936086400, 365 => 936259200, 366 => 936432000, 367 => 936604800, 368 => 936777600, 369 => 936950400, 
					370 => 937123200, 371 => 937296000, 372 => 937468800, 373 => 937641600, 374 => 937814400, 375 => 937987200, 376 => 938160000, 377 => 938332800, 378 => 938505600, 379 => 938678400, 
					380 => 938851200, 381 => 939024000, 382 => 939196800, 383 => 939369600, 384 => 939542400, 385 => 939715200, 386 => 939888000, 387 => 940060800, 388 => 940233600, 389 => 940406400, 
					390 => 940579200, 391 => 940752000, 392 => 940924800, 393 => 941097600, 394 => 941270400, 395 => 941446800, 396 => 941619600, 397 => 941792400, 398 => 941965200, 399 => 942138000, 
					400 => 942310800, 401 => 942483600, 402 => 942656400, 403 => 942829200, 404 => 943002000, 405 => 943174800, 406 => 943347600, 407 => 943520400, 408 => 943693200, 409 => 943866000, 
					410 => 944038800, 411 => 944211600, 412 => 944384400, 413 => 944557200, 414 => 944730000, 415 => 944902800, 416 => 945075600, 417 => 945248400, 418 => 945421200, 419 => 945594000, 
					420 => 945766800, 421 => 945939600, 422 => 946112400, 423 => 946285200, 424 => 946458000, 425 => 946630800, 426 => 946803600, 427 => 946976400, 428 => 947149200, 429 => 947322000, 
					430 => 947494800, 431 => 947667600, 432 => 947840400, 433 => 948013200, 434 => 948186000, 435 => 948358800, 436 => 948531600, 437 => 948704400, 438 => 948877200, 439 => 949050000, 
					440 => 949222800, 441 => 949395600, 442 => 949568400, 443 => 949741200, 444 => 949914000, 445 => 950086800, 446 => 950259600, 447 => 950432400, 448 => 950605200, 449 => 950778000, 
					450 => 950950800, 451 => 951123600, 452 => 951296400, 453 => 951469200, 454 => 951642000, 455 => 951814800, 456 => 951987600, 457 => 952160400, 458 => 952333200, 459 => 952506000, 
					460 => 952678800, 461 => 952851600, 462 => 953024400, 463 => 953197200, 464 => 953370000, 465 => 953542800, 466 => 953715600, 467 => 953888400, 468 => 954057600, 469 => 954230400, 
					470 => 954403200, 471 => 954576000, 472 => 954748800, 473 => 954921600, 474 => 955094400, 475 => 955267200, 476 => 955440000, 477 => 955612800, 478 => 955785600, 479 => 955958400, 
					480 => 956131200, 481 => 956304000, 482 => 956476800, 483 => 956649600, 484 => 956822400, 485 => 956995200, 486 => 957168000, 487 => 957340800, 488 => 957513600, 489 => 957686400, 
					490 => 957859200, 491 => 958032000, 492 => 958204800, 493 => 958377600, 494 => 958550400, 495 => 958723200, 496 => 958896000, 497 => 959068800, 498 => 959241600, 499 => 959414400, 
					500 => 959587200, 501 => 959760000, 502 => 959932800, 503 => 960105600, 504 => 960278400, 505 => 960451200, 506 => 960624000, 507 => 960796800, 508 => 960969600, 509 => 961142400, 
					510 => 961315200, 511 => 961488000, 512 => 961660800, 513 => 961833600, 514 => 962006400, 515 => 962179200, 516 => 962352000, 517 => 962524800, 518 => 962697600, 519 => 962870400, 
					520 => 963043200, 521 => 963216000, 522 => 963388800, 523 => 963561600, 524 => 963734400, 525 => 963907200, 526 => 964080000, 527 => 964252800, 528 => 964425600, 529 => 964598400, 
					530 => 964771200, 531 => 964944000, 532 => 965116800, 533 => 965289600, 534 => 965462400, 535 => 965635200, 536 => 965808000, 537 => 965980800, 538 => 966153600, 539 => 966326400, 
					540 => 966499200, 541 => 966672000, 542 => 966844800, 543 => 967017600, 544 => 967190400, 545 => 967363200, 546 => 967536000, 547 => 967708800, 548 => 967881600, 549 => 968054400, 
					550 => 968227200, 551 => 968400000, 552 => 968572800, 553 => 968745600, 554 => 968918400, 555 => 969091200, 556 => 969264000, 557 => 969436800, 558 => 969609600, 559 => 969782400, 
					560 => 969955200, 561 => 970128000, 562 => 970300800, 563 => 970473600, 564 => 970646400, 565 => 970819200, 566 => 970992000, 567 => 971164800, 568 => 971337600, 569 => 971510400, 
					570 => 971683200, 571 => 971856000, 572 => 972028800, 573 => 972201600, 574 => 972374400, 575 => 972547200, 576 => 972720000, 577 => 972896400, 578 => 973069200, 579 => 973242000, 
					580 => 973414800, 581 => 973587600, 582 => 973760400, 583 => 973933200, 584 => 974106000, 585 => 974278800, 586 => 974451600, 587 => 974624400, 588 => 974797200, 589 => 974970000, 
					590 => 975142800, 591 => 975315600, 592 => 975488400, 593 => 975661200, 594 => 975834000, 595 => 976006800, 596 => 976179600, 597 => 976352400, 598 => 976525200, 599 => 976698000, 
				),
			),
			2 => array(
				'description' => 'Every 10 days, 5 occurrences',
				'default' => new Academic_time(mktime(9,0,0, 9, 2, 1997)),
				'rrule' => array(array(
					'freq'       => 'daily',
					'count'      => 5,
					'until'      => NULL,
					'interval'   => 10,
					'bysecond'   => array(),
					'byminute'   => array(),
					'byhour'     => array(),
					'byyearday'  => array(),
					'byweekno'   => array(),
					'bymonthday' => array(),
					'byday'      => array(),
					'bymonth'    => array(),
					'bysetpos'   => array(),
					'wkst'       => 1, // monday
				)),
				'expected' => Array(
					0 => 873187200, 1 => 874051200, 2 => 874915200, 3 => 875779200, 4 => 876643200,
				),
			),
			3 => array(
				'description' => 'Everyday in january, for 3 years',
				'default' => new Academic_time(mktime(9,0,0, 1, 1, 1998)),
				'rrule' => array(
					array(
						'freq'       => 'yearly',
						'count'      => NULL,
						'until'      => mktime(9,0,0, 1, 31, 2000),
						'interval'   => 1,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(0=>1, 1=>1, 2=>1, 3=>1, 4=>1, 5=>1, 6=>1),
						'bymonth'    => array(1=>1),
						'bysetpos'   => array(),
						'wkst'       => 1, // monday
					),
					array(
						'freq'       => 'daily',
						'count'      => NULL,
						'until'      => mktime(9,0,0, 1, 31, 2000),
						'interval'   => 1,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(),
						'bymonth'    => array(1=>1),
						'bysetpos'   => array(),
						'wkst'       => 1, // monday
					),
				),
				'expected' => Array(
					0 => 883645200, 1 => 883731600, 2 => 883818000, 3 => 883904400, 4 => 883990800, 5 => 884077200, 6 => 884163600, 7 => 884250000, 8 => 884336400, 9 => 884422800, 
					10 => 884509200, 11 => 884595600, 12 => 884682000, 13 => 884768400, 14 => 884854800, 15 => 884941200, 16 => 885027600, 17 => 885114000, 18 => 885200400, 19 => 885286800, 
					20 => 885373200, 21 => 885459600, 22 => 885546000, 23 => 885632400, 24 => 885718800, 25 => 885805200, 26 => 885891600, 27 => 885978000, 28 => 886064400, 29 => 886150800, 
					30 => 886237200, 31 => 915181200, 32 => 915267600, 33 => 915354000, 34 => 915440400, 35 => 915526800, 36 => 915613200, 37 => 915699600, 38 => 915786000, 39 => 915872400, 
					40 => 915958800, 41 => 916045200, 42 => 916131600, 43 => 916218000, 44 => 916304400, 45 => 916390800, 46 => 916477200, 47 => 916563600, 48 => 916650000, 49 => 916736400, 
					50 => 916822800, 51 => 916909200, 52 => 916995600, 53 => 917082000, 54 => 917168400, 55 => 917254800, 56 => 917341200, 57 => 917427600, 58 => 917514000, 59 => 917600400, 
					60 => 917686800, 61 => 917773200, 62 => 946717200, 63 => 946803600, 64 => 946890000, 65 => 946976400, 66 => 947062800, 67 => 947149200, 68 => 947235600, 69 => 947322000, 
					70 => 947408400, 71 => 947494800, 72 => 947581200, 73 => 947667600, 74 => 947754000, 75 => 947840400, 76 => 947926800, 77 => 948013200, 78 => 948099600, 79 => 948186000, 
					80 => 948272400, 81 => 948358800, 82 => 948445200, 83 => 948531600, 84 => 948618000, 85 => 948704400, 86 => 948790800, 87 => 948877200, 88 => 948963600, 89 => 949050000, 
					90 => 949136400, 91 => 949222800, 92 => 949309200,
				),
			),
			4 => array(
				'description' => 'Weekly for 10 occurrences',
				'default' => new Academic_time(mktime(9,0,0, 9, 2, 1997)),
				'rrule' => array(array(
					'freq'       => 'weekly',
					'count'      => 10,
					'until'      => NULL,
					'interval'   => 1,
					'bysecond'   => array(),
					'byminute'   => array(),
					'byhour'     => array(),
					'byyearday'  => array(),
					'byweekno'   => array(),
					'bymonthday' => array(),
					'byday'      => array(),
					'bymonth'    => array(),
					'bysetpos'   => array(),
					'wkst'       => 1, // monday
		// 				'debug'      => 1,
				)),
				'expected' => Array(
					0 => 873187200, 1 => 873792000, 2 => 874396800, 3 => 875001600, 4 => 875606400, 5 => 876211200, 6 => 876816000, 7 => 877420800, 8 => 878029200, 9 => 878634000, 
				),
			),
			5 => array(
				'description' => 'every other week forever',
				'default' => new Academic_time(mktime(9,0,0, 9, 2, 1997)),
				'rrule' => array(array(
					'freq'       => 'weekly',
					'interval'   => 2,
					'count'      => NULL,
					'until'      => NULL,
					'bysecond'   => array(),
					'byminute'   => array(),
					'byhour'     => array(),
					'byyearday'  => array(),
					'byweekno'   => array(),
					'bymonthday' => array(),
					'byday'      => array(),
					'bymonth'    => array(),
					'bysetpos'   => array(),
					'wkst'       => 1, // monday
		// 				'debug'      => 1,
				)),
				'expected' => Array(
					0 => 873187200, 1 => 874396800, 2 => 875606400, 3 => 876816000, 4 => 878029200, 5 => 879238800, 6 => 880448400, 7 => 881658000, 8 => 882867600, 9 => 884077200, 
					10 => 885286800, 11 => 886496400, 12 => 887706000, 13 => 888915600, 14 => 890125200, 15 => 891331200, 16 => 892540800, 17 => 893750400, 18 => 894960000, 19 => 896169600, 
					20 => 897379200, 21 => 898588800, 22 => 899798400, 23 => 901008000, 24 => 902217600, 25 => 903427200, 26 => 904636800, 27 => 905846400, 28 => 907056000, 29 => 908265600, 
					30 => 909478800, 31 => 910688400, 32 => 911898000, 33 => 913107600, 34 => 914317200, 35 => 915526800, 36 => 916736400, 37 => 917946000, 38 => 919155600, 39 => 920365200, 
					40 => 921574800, 41 => 922780800, 42 => 923990400, 43 => 925200000, 44 => 926409600, 45 => 927619200, 46 => 928828800, 47 => 930038400, 48 => 931248000, 49 => 932457600, 
					50 => 933667200, 51 => 934876800, 52 => 936086400, 53 => 937296000, 54 => 938505600, 55 => 939715200, 56 => 940924800, 57 => 942138000, 58 => 943347600, 59 => 944557200, 
					60 => 945766800, 61 => 946976400, 62 => 948186000, 63 => 949395600, 64 => 950605200, 65 => 951814800, 66 => 953024400, 67 => 954230400, 68 => 955440000, 69 => 956649600, 
					70 => 957859200, 71 => 959068800, 72 => 960278400, 73 => 961488000, 74 => 962697600, 75 => 963907200, 76 => 965116800, 77 => 966326400, 78 => 967536000, 79 => 968745600, 
					80 => 969955200, 81 => 971164800, 82 => 972374400, 83 => 973587600, 84 => 974797200, 85 => 976006800, 86 => 977216400, 87 => 978426000, 88 => 979635600, 89 => 980845200, 
					90 => 982054800, 91 => 983264400, 92 => 984474000, 93 => 985680000, 94 => 986889600, 95 => 988099200, 96 => 989308800, 97 => 990518400, 98 => 991728000, 99 => 992937600, 
					100 => 994147200, 101 => 995356800, 102 => 996566400, 103 => 997776000, 104 => 998985600, 105 => 1000195200, 106 => 1001404800, 107 => 1002614400, 108 => 1003824000, 109 => 1005037200, 
					110 => 1006246800, 111 => 1007456400, 112 => 1008666000, 113 => 1009875600, 114 => 1011085200, 115 => 1012294800, 116 => 1013504400, 117 => 1014714000, 118 => 1015923600, 119 => 1017133200, 
					120 => 1018339200, 121 => 1019548800, 122 => 1020758400, 123 => 1021968000, 124 => 1023177600, 125 => 1024387200, 126 => 1025596800, 127 => 1026806400, 128 => 1028016000, 129 => 1029225600, 
					130 => 1030435200, 131 => 1031644800, 132 => 1032854400, 133 => 1034064000, 134 => 1035273600, 135 => 1036486800, 136 => 1037696400, 137 => 1038906000, 138 => 1040115600, 139 => 1041325200, 
					140 => 1042534800, 141 => 1043744400, 142 => 1044954000, 143 => 1046163600, 144 => 1047373200, 145 => 1048582800, 146 => 1049788800, 147 => 1050998400, 148 => 1052208000, 149 => 1053417600, 
					150 => 1054627200, 151 => 1055836800, 152 => 1057046400, 153 => 1058256000, 154 => 1059465600, 155 => 1060675200, 156 => 1061884800, 157 => 1063094400, 158 => 1064304000, 159 => 1065513600, 
					160 => 1066723200, 161 => 1067936400, 162 => 1069146000, 163 => 1070355600, 164 => 1071565200, 165 => 1072774800, 166 => 1073984400, 167 => 1075194000, 168 => 1076403600, 169 => 1077613200, 
					170 => 1078822800, 171 => 1080032400, 172 => 1081238400, 173 => 1082448000, 174 => 1083657600, 175 => 1084867200, 176 => 1086076800, 177 => 1087286400, 178 => 1088496000, 179 => 1089705600, 
					180 => 1090915200, 181 => 1092124800, 182 => 1093334400, 183 => 1094544000, 184 => 1095753600, 185 => 1096963200, 186 => 1098172800, 187 => 1099386000, 188 => 1100595600, 189 => 1101805200, 
					190 => 1103014800, 191 => 1104224400, 192 => 1105434000, 193 => 1106643600, 194 => 1107853200, 195 => 1109062800, 196 => 1110272400, 197 => 1111482000, 198 => 1112688000, 199 => 1113897600, 
					200 => 1115107200, 201 => 1116316800, 202 => 1117526400, 203 => 1118736000, 204 => 1119945600, 205 => 1121155200, 206 => 1122364800, 207 => 1123574400, 208 => 1124784000, 209 => 1125993600, 
					210 => 1127203200, 211 => 1128412800, 212 => 1129622400, 213 => 1130835600, 214 => 1132045200, 215 => 1133254800, 216 => 1134464400, 217 => 1135674000, 218 => 1136883600, 219 => 1138093200, 
					220 => 1139302800, 221 => 1140512400, 222 => 1141722000, 223 => 1142931600, 224 => 1144137600, 225 => 1145347200, 226 => 1146556800, 227 => 1147766400, 228 => 1148976000, 229 => 1150185600, 
					230 => 1151395200, 231 => 1152604800, 232 => 1153814400, 233 => 1155024000, 234 => 1156233600, 235 => 1157443200, 236 => 1158652800, 237 => 1159862400, 238 => 1161072000, 239 => 1162285200, 
					240 => 1163494800, 241 => 1164704400, 242 => 1165914000, 243 => 1167123600, 244 => 1168333200, 245 => 1169542800, 246 => 1170752400, 247 => 1171962000, 248 => 1173171600, 249 => 1174381200, 
					250 => 1175587200, 251 => 1176796800, 252 => 1178006400, 253 => 1179216000, 254 => 1180425600, 255 => 1181635200, 256 => 1182844800, 257 => 1184054400, 258 => 1185264000, 259 => 1186473600, 
					260 => 1187683200, 261 => 1188892800, 262 => 1190102400, 263 => 1191312000, 264 => 1192521600, 265 => 1193734800, 266 => 1194944400, 267 => 1196154000, 268 => 1197363600, 269 => 1198573200, 
					270 => 1199782800, 271 => 1200992400, 272 => 1202202000, 273 => 1203411600, 274 => 1204621200, 275 => 1205830800, 276 => 1207036800, 277 => 1208246400, 278 => 1209456000, 279 => 1210665600, 
					280 => 1211875200, 281 => 1213084800, 282 => 1214294400, 283 => 1215504000, 284 => 1216713600, 285 => 1217923200, 286 => 1219132800, 287 => 1220342400, 288 => 1221552000, 289 => 1222761600, 
					290 => 1223971200, 291 => 1225184400, 292 => 1226394000, 293 => 1227603600, 294 => 1228813200, 295 => 1230022800, 296 => 1231232400, 297 => 1232442000, 298 => 1233651600, 299 => 1234861200, 
					300 => 1236070800, 301 => 1237280400, 302 => 1238486400, 303 => 1239696000, 304 => 1240905600, 305 => 1242115200, 306 => 1243324800, 307 => 1244534400, 308 => 1245744000, 309 => 1246953600, 
					310 => 1248163200, 311 => 1249372800, 312 => 1250582400, 313 => 1251792000, 314 => 1253001600, 315 => 1254211200, 316 => 1255420800, 317 => 1256634000, 318 => 1257843600, 319 => 1259053200, 
					320 => 1260262800, 321 => 1261472400, 322 => 1262682000, 323 => 1263891600, 324 => 1265101200, 325 => 1266310800, 326 => 1267520400, 327 => 1268730000, 328 => 1269936000, 329 => 1271145600, 
					330 => 1272355200, 331 => 1273564800, 332 => 1274774400, 333 => 1275984000, 334 => 1277193600, 335 => 1278403200, 336 => 1279612800, 337 => 1280822400, 338 => 1282032000, 339 => 1283241600, 
					340 => 1284451200, 341 => 1285660800, 342 => 1286870400, 343 => 1288080000, 344 => 1289293200, 345 => 1290502800, 346 => 1291712400, 347 => 1292922000, 348 => 1294131600, 349 => 1295341200, 
					350 => 1296550800, 351 => 1297760400, 352 => 1298970000, 353 => 1300179600, 354 => 1301385600, 355 => 1302595200, 356 => 1303804800, 357 => 1305014400, 358 => 1306224000, 359 => 1307433600, 
					360 => 1308643200, 361 => 1309852800, 362 => 1311062400, 363 => 1312272000, 364 => 1313481600, 365 => 1314691200, 366 => 1315900800, 367 => 1317110400, 368 => 1318320000, 369 => 1319529600, 
					370 => 1320742800, 371 => 1321952400, 372 => 1323162000, 373 => 1324371600, 374 => 1325581200, 375 => 1326790800, 376 => 1328000400, 377 => 1329210000, 378 => 1330419600, 379 => 1331629200, 
					380 => 1332835200, 381 => 1334044800, 382 => 1335254400, 383 => 1336464000, 384 => 1337673600, 385 => 1338883200, 386 => 1340092800, 387 => 1341302400, 388 => 1342512000, 389 => 1343721600, 
					390 => 1344931200, 391 => 1346140800, 392 => 1347350400, 393 => 1348560000, 394 => 1349769600, 395 => 1350979200, 396 => 1352192400, 397 => 1353402000, 398 => 1354611600, 399 => 1355821200, 
					400 => 1357030800, 401 => 1358240400, 402 => 1359450000, 403 => 1360659600, 404 => 1361869200, 405 => 1363078800, 406 => 1364288400, 407 => 1365494400, 408 => 1366704000, 409 => 1367913600, 
					410 => 1369123200, 411 => 1370332800, 412 => 1371542400, 413 => 1372752000, 414 => 1373961600, 415 => 1375171200, 416 => 1376380800, 417 => 1377590400, 418 => 1378800000, 419 => 1380009600, 
					420 => 1381219200, 421 => 1382428800, 422 => 1383642000, 423 => 1384851600, 424 => 1386061200, 425 => 1387270800, 426 => 1388480400, 427 => 1389690000, 428 => 1390899600, 429 => 1392109200, 
					430 => 1393318800, 431 => 1394528400, 432 => 1395738000, 433 => 1396944000, 434 => 1398153600, 435 => 1399363200, 436 => 1400572800, 437 => 1401782400, 438 => 1402992000, 439 => 1404201600, 
					440 => 1405411200, 441 => 1406620800, 442 => 1407830400, 443 => 1409040000, 444 => 1410249600, 445 => 1411459200, 446 => 1412668800, 447 => 1413878400, 448 => 1415091600, 449 => 1416301200, 
					450 => 1417510800, 451 => 1418720400, 452 => 1419930000, 453 => 1421139600, 454 => 1422349200, 455 => 1423558800, 456 => 1424768400, 457 => 1425978000, 458 => 1427187600, 459 => 1428393600, 
					460 => 1429603200, 461 => 1430812800, 462 => 1432022400, 463 => 1433232000, 464 => 1434441600, 465 => 1435651200, 466 => 1436860800, 467 => 1438070400, 468 => 1439280000, 469 => 1440489600, 
					470 => 1441699200, 471 => 1442908800, 472 => 1444118400, 473 => 1445328000, 474 => 1446541200, 475 => 1447750800, 476 => 1448960400, 477 => 1450170000, 478 => 1451379600, 479 => 1452589200, 
					480 => 1453798800, 481 => 1455008400, 482 => 1456218000, 483 => 1457427600, 484 => 1458637200, 485 => 1459843200, 486 => 1461052800, 487 => 1462262400, 488 => 1463472000, 489 => 1464681600, 
					490 => 1465891200, 491 => 1467100800, 492 => 1468310400, 493 => 1469520000, 494 => 1470729600, 495 => 1471939200, 496 => 1473148800, 497 => 1474358400, 498 => 1475568000, 499 => 1476777600, 
					500 => 1477990800, 501 => 1479200400, 502 => 1480410000, 503 => 1481619600, 504 => 1482829200, 505 => 1484038800, 506 => 1485248400, 507 => 1486458000, 508 => 1487667600, 509 => 1488877200, 
					510 => 1490086800, 511 => 1491292800, 512 => 1492502400, 513 => 1493712000, 514 => 1494921600, 515 => 1496131200, 516 => 1497340800, 517 => 1498550400, 518 => 1499760000, 519 => 1500969600, 
					520 => 1502179200, 521 => 1503388800, 522 => 1504598400, 523 => 1505808000, 524 => 1507017600, 525 => 1508227200, 526 => 1509440400, 527 => 1510650000, 528 => 1511859600, 529 => 1513069200, 
					530 => 1514278800, 531 => 1515488400, 532 => 1516698000, 533 => 1517907600, 534 => 1519117200, 535 => 1520326800, 536 => 1521536400, 537 => 1522742400, 538 => 1523952000, 539 => 1525161600, 
					540 => 1526371200, 541 => 1527580800, 542 => 1528790400, 543 => 1530000000, 544 => 1531209600, 545 => 1532419200, 546 => 1533628800, 547 => 1534838400, 548 => 1536048000, 549 => 1537257600, 
					550 => 1538467200, 551 => 1539676800, 552 => 1540890000, 553 => 1542099600, 554 => 1543309200, 555 => 1544518800, 556 => 1545728400, 557 => 1546938000, 558 => 1548147600, 559 => 1549357200, 
					560 => 1550566800, 561 => 1551776400, 562 => 1552986000, 563 => 1554192000, 564 => 1555401600, 565 => 1556611200, 566 => 1557820800, 567 => 1559030400, 568 => 1560240000, 569 => 1561449600, 
					570 => 1562659200, 571 => 1563868800, 572 => 1565078400, 573 => 1566288000, 574 => 1567497600, 575 => 1568707200, 576 => 1569916800, 577 => 1571126400, 578 => 1572339600, 579 => 1573549200, 
					580 => 1574758800, 581 => 1575968400, 582 => 1577178000, 
				),
			),
			6 => array(
				'description' => 'Weekly on tuesday and thursday for 5 weeks',
				'default' => new Academic_time(mktime(9,0,0, 9, 2, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'weekly',
						'count'      => NULL,
						'until'      => mktime(0,0,0,10,7,1997),
						'interval'   => 1,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(2 => 1, 4 => 1),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 0,
			// 				'debug'      => 1,
					),
					array(
						'freq'       => 'weekly',
						'count'      => 10,
						'until'      => NULL,
						'interval'   => 1,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(2 => 1, 4 => 1),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 0,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 873187200, 1 => 873360000, 2 => 873792000, 3 => 873964800, 4 => 874396800, 5 => 874569600, 6 => 875001600, 7 => 875174400, 8 => 875606400, 9 => 875779200,
				),
			),
			7 => array(
				'description' => 'Every other week on Monday, Wednesday and Friday until December 24, 1997, but starting on Tuesday, September 2, 1997',
				'default' => new Academic_time(mktime(9,0,0, 9, 2, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'weekly',
						'count'      => NULL,
						'until'      => mktime(0,0,0,12,24,1997),
						'interval'   => 2,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(1 => 1, 3 => 1, 5 => 1),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 0,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 873273600, 1 => 873446400, 2 => 874310400, 3 => 874483200, 4 => 874656000, 5 => 875520000, 6 => 875692800, 7 => 875865600, 8 => 876729600, 9 => 876902400, 
					10 => 877075200, 11 => 877942800, 12 => 878115600, 13 => 878288400, 14 => 879152400, 15 => 879325200, 16 => 879498000, 17 => 880362000, 18 => 880534800, 19 => 880707600, 
					20 => 881571600, 21 => 881744400, 22 => 881917200, 23 => 882781200, 
				),
			),
			8 => array(
				'description' => 'Every other week on Tuesday and Thursday, for 8 occurrences',
				'default' => new Academic_time(mktime(9,0,0, 9, 2, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'weekly',
						'count'      => 8,
						'until'      => NULL,
						'interval'   => 2,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(2 => 1, 4 => 1),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 0,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 873187200, 1 => 873360000, 2 => 874396800, 3 => 874569600, 4 => 875606400, 5 => 875779200, 6 => 876816000, 7 => 876988800, 
				),
			),
			9 => array(
				'description' => 'Monthly on the 1st Friday for ten occurrences',
				'default' => new Academic_time(mktime(9,0,0, 9, 5, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'monthly',
						'count'      => 10,
						'until'      => NULL,
						'interval'   => 1,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(5 => array(1=>1)),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 873446400, 1 => 875865600, 2 => 878893200, 3 => 881312400, 4 => 883731600, 5 => 886755600, 6 => 889174800, 7 => 891590400, 8 => 894009600, 9 => 897033600, 
				),
			),
			10 => array(
				'description' => 'Monthly on the 1st Friday until December 24, 1997',
				'default' => new Academic_time(mktime(9,0,0, 9, 5, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'monthly',
						'count'      => NULL,
						'until'      => mktime(0,0,0, 12, 24, 1997),
						'interval'   => 1,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(5 => array(1=>1)),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 873446400, 1 => 875865600, 2 => 878893200, 3 => 881312400, 
				),
			),
			11 => array(
				'description' => 'Every other month on the 1st and last Sunday of the month for 10
		occurrences',
				'default' => new Academic_time(mktime(9,0,0, 9, 7, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'monthly',
						'count'      => 10,
						'until'      => NULL,
						'interval'   => 2,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(0 => array(1=>1, -1=>1)),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 873619200, 1 => 875433600, 2 => 878461200, 3 => 880880400, 4 => 883904400, 5 => 885718800, 6 => 888742800, 7 => 891158400, 8 => 894182400, 9 => 896601600, 
				),
			),
			12 => array(
				'description' => 'Monthly on the second to last Monday of the month for 6 months',
				'default' => new Academic_time(mktime(9,0,0, 9, 22, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'monthly',
						'count'      => 6,
						'until'      => NULL,
						'interval'   => 1,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(1 => array(-2=>1)),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 874915200, 1 => 877334400, 2 => 879757200, 3 => 882781200, 4 => 885200400, 5 => 887619600, 
				),
			),
			13 => array(
				'description' => 'Monthly on the third to the last day of the month, forever',
				'default' => new Academic_time(mktime(9,0,0, 9, 28, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'monthly',
						'count'      => NULL,
						'until'      => NULL,
						'interval'   => 1,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(-3=>1),
						'byday'      => array(),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 875433600, 1 => 878115600, 2 => 880707600, 3 => 883386000, 4 => 886064400, 5 => 888483600, 6 => 891158400, 7 => 893750400, 8 => 896428800, 9 => 899020800, 
					10 => 901699200, 11 => 904377600, 12 => 906969600, 13 => 909651600, 14 => 912243600, 15 => 914922000, 16 => 917600400, 17 => 920019600, 18 => 922694400, 19 => 925286400, 
					20 => 927964800, 21 => 930556800, 22 => 933235200, 23 => 935913600, 24 => 938505600, 25 => 941184000, 26 => 943779600, 27 => 946458000, 28 => 949136400, 29 => 951642000, 
					30 => 954316800, 31 => 956908800, 32 => 959587200, 33 => 962179200, 34 => 964857600, 35 => 967536000, 36 => 970128000, 37 => 972810000, 38 => 975402000, 39 => 978080400, 
					40 => 980758800, 41 => 983178000, 42 => 985852800, 43 => 988444800, 44 => 991123200, 45 => 993715200, 46 => 996393600, 47 => 999072000, 48 => 1001664000, 49 => 1004346000, 
					50 => 1006938000, 51 => 1009616400, 52 => 1012294800, 53 => 1014714000, 54 => 1017392400, 55 => 1019980800, 56 => 1022659200, 57 => 1025251200, 58 => 1027929600, 59 => 1030608000, 
					60 => 1033200000, 61 => 1035882000, 62 => 1038474000, 63 => 1041152400, 64 => 1043830800, 65 => 1046250000, 66 => 1048928400, 67 => 1051516800, 68 => 1054195200, 69 => 1056787200, 
					70 => 1059465600, 71 => 1062144000, 72 => 1064736000, 73 => 1067418000, 74 => 1070010000, 75 => 1072688400, 76 => 1075366800, 77 => 1077872400, 78 => 1080547200, 79 => 1083139200, 
					80 => 1085817600, 81 => 1088409600, 82 => 1091088000, 83 => 1093766400, 84 => 1096358400, 85 => 1099036800, 86 => 1101632400, 87 => 1104310800, 88 => 1106989200, 89 => 1109408400, 
					90 => 1112083200, 91 => 1114675200, 92 => 1117353600, 93 => 1119945600, 94 => 1122624000, 95 => 1125302400, 96 => 1127894400, 97 => 1130572800, 98 => 1133168400, 99 => 1135846800, 
					100 => 1138525200, 101 => 1140944400, 102 => 1143619200, 103 => 1146211200, 104 => 1148889600, 105 => 1151481600, 106 => 1154160000, 107 => 1156838400, 108 => 1159430400, 109 => 1162112400, 
					110 => 1164704400, 111 => 1167382800, 112 => 1170061200, 113 => 1172480400, 114 => 1175155200, 115 => 1177747200, 116 => 1180425600, 117 => 1183017600, 118 => 1185696000, 119 => 1188374400, 
					120 => 1190966400, 121 => 1193648400, 122 => 1196240400, 123 => 1198918800, 124 => 1201597200, 125 => 1204102800, 126 => 1206781200, 127 => 1209369600, 128 => 1212048000, 129 => 1214640000, 
					130 => 1217318400, 131 => 1219996800, 132 => 1222588800, 133 => 1225270800, 134 => 1227862800, 135 => 1230541200, 136 => 1233219600, 137 => 1235638800, 138 => 1238313600, 139 => 1240905600, 
					140 => 1243584000, 141 => 1246176000, 142 => 1248854400, 143 => 1251532800, 144 => 1254124800, 145 => 1256806800, 146 => 1259398800, 147 => 1262077200, 148 => 1264755600, 149 => 1267174800, 
					150 => 1269849600, 151 => 1272441600, 152 => 1275120000, 153 => 1277712000, 154 => 1280390400, 155 => 1283068800, 156 => 1285660800, 157 => 1288339200, 158 => 1290934800, 159 => 1293613200, 
					160 => 1296291600, 161 => 1298710800, 162 => 1301385600, 163 => 1303977600, 164 => 1306656000, 165 => 1309248000, 166 => 1311926400, 167 => 1314604800, 168 => 1317196800, 169 => 1319875200, 
					170 => 1322470800, 171 => 1325149200, 172 => 1327827600, 173 => 1330333200, 174 => 1333008000, 175 => 1335600000, 176 => 1338278400, 177 => 1340870400, 178 => 1343548800, 179 => 1346227200, 
					180 => 1348819200, 181 => 1351501200, 182 => 1354093200, 183 => 1356771600, 184 => 1359450000, 185 => 1361869200, 186 => 1364547600, 187 => 1367136000, 188 => 1369814400, 189 => 1372406400, 
					190 => 1375084800, 191 => 1377763200, 192 => 1380355200, 193 => 1383037200, 194 => 1385629200, 195 => 1388307600, 196 => 1390986000, 197 => 1393405200, 198 => 1396083600, 199 => 1398672000, 
					200 => 1401350400, 201 => 1403942400, 202 => 1406620800, 203 => 1409299200, 204 => 1411891200, 205 => 1414573200, 206 => 1417165200, 207 => 1419843600, 208 => 1422522000, 209 => 1424941200, 
					210 => 1427616000, 211 => 1430208000, 212 => 1432886400, 213 => 1435478400, 214 => 1438156800, 215 => 1440835200, 216 => 1443427200, 217 => 1446109200, 218 => 1448701200, 219 => 1451379600, 
					220 => 1454058000, 221 => 1456563600, 222 => 1459238400, 223 => 1461830400, 224 => 1464508800, 225 => 1467100800, 226 => 1469779200, 227 => 1472457600, 228 => 1475049600, 229 => 1477728000, 
					230 => 1480323600, 231 => 1483002000, 232 => 1485680400, 233 => 1488099600, 234 => 1490774400, 235 => 1493366400, 236 => 1496044800, 237 => 1498636800, 238 => 1501315200, 239 => 1503993600, 
					240 => 1506585600, 241 => 1509267600, 242 => 1511859600, 243 => 1514538000, 244 => 1517216400, 245 => 1519635600, 246 => 1522310400, 247 => 1524902400, 248 => 1527580800, 249 => 1530172800, 
					250 => 1532851200, 251 => 1535529600, 252 => 1538121600, 253 => 1540803600, 254 => 1543395600, 255 => 1546074000, 256 => 1548752400, 257 => 1551171600, 258 => 1553850000, 259 => 1556438400, 
					260 => 1559116800, 261 => 1561708800, 262 => 1564387200, 263 => 1567065600, 264 => 1569657600, 265 => 1572339600, 266 => 1574931600, 267 => 1577610000, 
				),
			),
			14 => array(
				'description' => 'Monthly on the 2nd and 15th of the month for 10 occurrences',
				'default' => new Academic_time(mktime(9,0,0, 9, 2, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'monthly',
						'count'      => 10,
						'until'      => NULL,
						'interval'   => 1,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(2 => 1, 15 => 1),
						'byday'      => array(),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 873187200, 1 => 874310400, 2 => 875779200, 3 => 876902400, 4 => 878461200, 5 => 879584400, 6 => 881053200, 7 => 882176400, 8 => 883731600, 9 => 884854800, 
				),
			),
			15 => array(
				'description' => 'Monthly on the first and last day of the month for 10 occurrences',
				'default' => new Academic_time(mktime(9,0,0, 9, 30, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'monthly',
						'count'      => 10,
						'until'      => NULL,
						'interval'   => 1,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(1 => 1, -1 => 1),
						'byday'      => array(),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 875606400, 1 => 875692800, 2 => 878288400, 3 => 878374800, 4 => 880880400, 5 => 880966800, 6 => 883558800, 7 => 883645200, 8 => 886237200, 9 => 886323600, 
				),
			),
			16 => array(
				'description' => 'Every 18 months on the 10th thru 15th of the month for 10 occurrences',
				'default' => new Academic_time(mktime(9,0,0, 9, 10, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'monthly',
						'count'      => 10,
						'until'      => NULL,
						'interval'   => 18,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(10=>1, 11=>1, 12=>1, 13=>1, 14=>1, 15=>1),
						'byday'      => array(),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 873878400, 1 => 873964800, 2 => 874051200, 3 => 874137600, 4 => 874224000, 5 => 874310400, 6 => 921056400, 7 => 921142800, 8 => 921229200, 9 => 921315600, 
				),
			),
			17 => array(
				'description' => 'Every Tuesday, every other month',
				'default' => new Academic_time(mktime(9,0,0, 9, 2, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'monthly',
						'count'      => NULL,
						'until'      => NULL,
						'interval'   => 2,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(2=>1),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 873187200, 1 => 873792000, 2 => 874396800, 3 => 875001600, 4 => 875606400, 5 => 878634000, 6 => 879238800, 7 => 879843600, 8 => 880448400, 9 => 884077200, 
					10 => 884682000, 11 => 885286800, 12 => 885891600, 13 => 888915600, 14 => 889520400, 15 => 890125200, 16 => 890730000, 17 => 891331200, 18 => 894355200, 19 => 894960000, 
					20 => 895564800, 21 => 896169600, 22 => 899798400, 23 => 900403200, 24 => 901008000, 25 => 901612800, 26 => 904636800, 27 => 905241600, 28 => 905846400, 29 => 906451200, 
					30 => 907056000, 31 => 910083600, 32 => 910688400, 33 => 911293200, 34 => 911898000, 35 => 915526800, 36 => 916131600, 37 => 916736400, 38 => 917341200, 39 => 920365200, 
					40 => 920970000, 41 => 921574800, 42 => 922179600, 43 => 922780800, 44 => 925804800, 45 => 926409600, 46 => 927014400, 47 => 927619200, 48 => 931248000, 49 => 931852800, 
					50 => 932457600, 51 => 933062400, 52 => 936691200, 53 => 937296000, 54 => 937900800, 55 => 938505600, 56 => 941533200, 57 => 942138000, 58 => 942742800, 59 => 943347600, 
					60 => 943952400, 61 => 946976400, 62 => 947581200, 63 => 948186000, 64 => 948790800, 65 => 952419600, 66 => 953024400, 67 => 953629200, 68 => 954230400, 69 => 957254400, 
					70 => 957859200, 71 => 958464000, 72 => 959068800, 73 => 959673600, 74 => 962697600, 75 => 963302400, 76 => 963907200, 77 => 964512000, 78 => 968140800, 79 => 968745600, 
					80 => 969350400, 81 => 969955200, 82 => 973587600, 83 => 974192400, 84 => 974797200, 85 => 975402000, 86 => 978426000, 87 => 979030800, 88 => 979635600, 89 => 980240400, 
					90 => 980845200, 91 => 983869200, 92 => 984474000, 93 => 985078800, 94 => 985680000, 95 => 988704000, 96 => 989308800, 97 => 989913600, 98 => 990518400, 99 => 991123200, 
					100 => 994147200, 101 => 994752000, 102 => 995356800, 103 => 995961600, 104 => 996566400, 105 => 999590400, 106 => 1000195200, 107 => 1000800000, 108 => 1001404800, 109 => 1005037200, 
					110 => 1005642000, 111 => 1006246800, 112 => 1006851600, 113 => 1009875600, 114 => 1010480400, 115 => 1011085200, 116 => 1011690000, 117 => 1012294800, 118 => 1015318800, 119 => 1015923600, 
					120 => 1016528400, 121 => 1017133200, 122 => 1020758400, 123 => 1021363200, 124 => 1021968000, 125 => 1022572800, 126 => 1025596800, 127 => 1026201600, 128 => 1026806400, 129 => 1027411200, 
					130 => 1028016000, 131 => 1031040000, 132 => 1031644800, 133 => 1032249600, 134 => 1032854400, 135 => 1036486800, 136 => 1037091600, 137 => 1037696400, 138 => 1038301200, 139 => 1041930000, 
					140 => 1042534800, 141 => 1043139600, 142 => 1043744400, 143 => 1046768400, 144 => 1047373200, 145 => 1047978000, 146 => 1048582800, 147 => 1052208000, 148 => 1052812800, 149 => 1053417600, 
					150 => 1054022400, 151 => 1057046400, 152 => 1057651200, 153 => 1058256000, 154 => 1058860800, 155 => 1059465600, 156 => 1062489600, 157 => 1063094400, 158 => 1063699200, 159 => 1064304000, 
					160 => 1064908800, 161 => 1067936400, 162 => 1068541200, 163 => 1069146000, 164 => 1069750800, 165 => 1073379600, 166 => 1073984400, 167 => 1074589200, 168 => 1075194000, 169 => 1078218000, 
					170 => 1078822800, 171 => 1079427600, 172 => 1080032400, 173 => 1080633600, 174 => 1083657600, 175 => 1084262400, 176 => 1084867200, 177 => 1085472000, 178 => 1089100800, 179 => 1089705600, 
					180 => 1090310400, 181 => 1090915200, 182 => 1094544000, 183 => 1095148800, 184 => 1095753600, 185 => 1096358400, 186 => 1099386000, 187 => 1099990800, 188 => 1100595600, 189 => 1101200400, 
					190 => 1101805200, 191 => 1104829200, 192 => 1105434000, 193 => 1106038800, 194 => 1106643600, 195 => 1109667600, 196 => 1110272400, 197 => 1110877200, 198 => 1111482000, 199 => 1112083200, 
					200 => 1115107200, 201 => 1115712000, 202 => 1116316800, 203 => 1116921600, 204 => 1117526400, 205 => 1120550400, 206 => 1121155200, 207 => 1121760000, 208 => 1122364800, 209 => 1125993600, 
					210 => 1126598400, 211 => 1127203200, 212 => 1127808000, 213 => 1130835600, 214 => 1131440400, 215 => 1132045200, 216 => 1132650000, 217 => 1133254800, 218 => 1136278800, 219 => 1136883600, 
					220 => 1137488400, 221 => 1138093200, 222 => 1138698000, 223 => 1141722000, 224 => 1142326800, 225 => 1142931600, 226 => 1143532800, 227 => 1146556800, 228 => 1147161600, 229 => 1147766400, 
					230 => 1148371200, 231 => 1148976000, 232 => 1152000000, 233 => 1152604800, 234 => 1153209600, 235 => 1153814400, 236 => 1157443200, 237 => 1158048000, 238 => 1158652800, 239 => 1159257600, 
					240 => 1162890000, 241 => 1163494800, 242 => 1164099600, 243 => 1164704400, 244 => 1167728400, 245 => 1168333200, 246 => 1168938000, 247 => 1169542800, 248 => 1170147600, 249 => 1173171600, 
					250 => 1173776400, 251 => 1174381200, 252 => 1174982400, 253 => 1178006400, 254 => 1178611200, 255 => 1179216000, 256 => 1179820800, 257 => 1180425600, 258 => 1183449600, 259 => 1184054400, 
					260 => 1184659200, 261 => 1185264000, 262 => 1185868800, 263 => 1188892800, 264 => 1189497600, 265 => 1190102400, 266 => 1190707200, 267 => 1194339600, 268 => 1194944400, 269 => 1195549200, 
					270 => 1196154000, 271 => 1199178000, 272 => 1199782800, 273 => 1200387600, 274 => 1200992400, 275 => 1201597200, 276 => 1204621200, 277 => 1205226000, 278 => 1205830800, 279 => 1206435600, 
					280 => 1210060800, 281 => 1210665600, 282 => 1211270400, 283 => 1211875200, 284 => 1214899200, 285 => 1215504000, 286 => 1216108800, 287 => 1216713600, 288 => 1217318400, 289 => 1220342400, 
					290 => 1220947200, 291 => 1221552000, 292 => 1222156800, 293 => 1222761600, 294 => 1225789200, 295 => 1226394000, 296 => 1226998800, 297 => 1227603600, 298 => 1231232400, 299 => 1231837200, 
					300 => 1232442000, 301 => 1233046800, 302 => 1236070800, 303 => 1236675600, 304 => 1237280400, 305 => 1237885200, 306 => 1238486400, 307 => 1241510400, 308 => 1242115200, 309 => 1242720000, 
					310 => 1243324800, 311 => 1246953600, 312 => 1247558400, 313 => 1248163200, 314 => 1248768000, 315 => 1251792000, 316 => 1252396800, 317 => 1253001600, 318 => 1253606400, 319 => 1254211200, 
					320 => 1257238800, 321 => 1257843600, 322 => 1258448400, 323 => 1259053200, 324 => 1262682000, 325 => 1263286800, 326 => 1263891600, 327 => 1264496400, 328 => 1267520400, 329 => 1268125200, 
					330 => 1268730000, 331 => 1269334800, 332 => 1269936000, 333 => 1272960000, 334 => 1273564800, 335 => 1274169600, 336 => 1274774400, 337 => 1278403200, 338 => 1279008000, 339 => 1279612800, 
					340 => 1280217600, 341 => 1283846400, 342 => 1284451200, 343 => 1285056000, 344 => 1285660800, 345 => 1288688400, 346 => 1289293200, 347 => 1289898000, 348 => 1290502800, 349 => 1291107600, 
					350 => 1294131600, 351 => 1294736400, 352 => 1295341200, 353 => 1295946000, 354 => 1298970000, 355 => 1299574800, 356 => 1300179600, 357 => 1300784400, 358 => 1301385600, 359 => 1304409600, 
					360 => 1305014400, 361 => 1305619200, 362 => 1306224000, 363 => 1306828800, 364 => 1309852800, 365 => 1310457600, 366 => 1311062400, 367 => 1311667200, 368 => 1315296000, 369 => 1315900800, 
					370 => 1316505600, 371 => 1317110400, 372 => 1320138000, 373 => 1320742800, 374 => 1321347600, 375 => 1321952400, 376 => 1322557200, 377 => 1325581200, 378 => 1326186000, 379 => 1326790800, 
					380 => 1327395600, 381 => 1328000400, 382 => 1331024400, 383 => 1331629200, 384 => 1332234000, 385 => 1332835200, 386 => 1335859200, 387 => 1336464000, 388 => 1337068800, 389 => 1337673600, 
					390 => 1338278400, 391 => 1341302400, 392 => 1341907200, 393 => 1342512000, 394 => 1343116800, 395 => 1343721600, 396 => 1346745600, 397 => 1347350400, 398 => 1347955200, 399 => 1348560000, 
					400 => 1352192400, 401 => 1352797200, 402 => 1353402000, 403 => 1354006800, 404 => 1357030800, 405 => 1357635600, 406 => 1358240400, 407 => 1358845200, 408 => 1359450000, 409 => 1362474000, 
					410 => 1363078800, 411 => 1363683600, 412 => 1364288400, 413 => 1367913600, 414 => 1368518400, 415 => 1369123200, 416 => 1369728000, 417 => 1372752000, 418 => 1373356800, 419 => 1373961600, 
					420 => 1374566400, 421 => 1375171200, 422 => 1378195200, 423 => 1378800000, 424 => 1379404800, 425 => 1380009600, 426 => 1383642000, 427 => 1384246800, 428 => 1384851600, 429 => 1385456400, 
					430 => 1389085200, 431 => 1389690000, 432 => 1390294800, 433 => 1390899600, 434 => 1393923600, 435 => 1394528400, 436 => 1395133200, 437 => 1395738000, 438 => 1399363200, 439 => 1399968000, 
					440 => 1400572800, 441 => 1401177600, 442 => 1404201600, 443 => 1404806400, 444 => 1405411200, 445 => 1406016000, 446 => 1406620800, 447 => 1409644800, 448 => 1410249600, 449 => 1410854400, 
					450 => 1411459200, 451 => 1412064000, 452 => 1415091600, 453 => 1415696400, 454 => 1416301200, 455 => 1416906000, 456 => 1420534800, 457 => 1421139600, 458 => 1421744400, 459 => 1422349200, 
					460 => 1425373200, 461 => 1425978000, 462 => 1426582800, 463 => 1427187600, 464 => 1427788800, 465 => 1430812800, 466 => 1431417600, 467 => 1432022400, 468 => 1432627200, 469 => 1436256000, 
					470 => 1436860800, 471 => 1437465600, 472 => 1438070400, 473 => 1441094400, 474 => 1441699200, 475 => 1442304000, 476 => 1442908800, 477 => 1443513600, 478 => 1446541200, 479 => 1447146000, 
					480 => 1447750800, 481 => 1448355600, 482 => 1451984400, 483 => 1452589200, 484 => 1453194000, 485 => 1453798800, 486 => 1456822800, 487 => 1457427600, 488 => 1458032400, 489 => 1458637200, 
					490 => 1459238400, 491 => 1462262400, 492 => 1462867200, 493 => 1463472000, 494 => 1464076800, 495 => 1464681600, 496 => 1467705600, 497 => 1468310400, 498 => 1468915200, 499 => 1469520000, 
					500 => 1473148800, 501 => 1473753600, 502 => 1474358400, 503 => 1474963200, 504 => 1477990800, 505 => 1478595600, 506 => 1479200400, 507 => 1479805200, 508 => 1480410000, 509 => 1483434000, 
					510 => 1484038800, 511 => 1484643600, 512 => 1485248400, 513 => 1485853200, 514 => 1488877200, 515 => 1489482000, 516 => 1490086800, 517 => 1490688000, 518 => 1493712000, 519 => 1494316800, 
					520 => 1494921600, 521 => 1495526400, 522 => 1496131200, 523 => 1499155200, 524 => 1499760000, 525 => 1500364800, 526 => 1500969600, 527 => 1504598400, 528 => 1505203200, 529 => 1505808000, 
					530 => 1506412800, 531 => 1510045200, 532 => 1510650000, 533 => 1511254800, 534 => 1511859600, 535 => 1514883600, 536 => 1515488400, 537 => 1516093200, 538 => 1516698000, 539 => 1517302800, 
					540 => 1520326800, 541 => 1520931600, 542 => 1521536400, 543 => 1522137600, 544 => 1525161600, 545 => 1525766400, 546 => 1526371200, 547 => 1526976000, 548 => 1527580800, 549 => 1530604800, 
					550 => 1531209600, 551 => 1531814400, 552 => 1532419200, 553 => 1533024000, 554 => 1536048000, 555 => 1536652800, 556 => 1537257600, 557 => 1537862400, 558 => 1541494800, 559 => 1542099600, 
					560 => 1542704400, 561 => 1543309200, 562 => 1546333200, 563 => 1546938000, 564 => 1547542800, 565 => 1548147600, 566 => 1548752400, 567 => 1551776400, 568 => 1552381200, 569 => 1552986000, 
					570 => 1553590800, 571 => 1557216000, 572 => 1557820800, 573 => 1558425600, 574 => 1559030400, 575 => 1562054400, 576 => 1562659200, 577 => 1563264000, 578 => 1563868800, 579 => 1564473600, 
					580 => 1567497600, 581 => 1568102400, 582 => 1568707200, 583 => 1569312000, 584 => 1572944400, 585 => 1573549200, 586 => 1574154000, 587 => 1574758800, 
				),
			),
			18 => array(
				'description' => 'Yearly in June and July for 10 occurrences',
				'default' => new Academic_time(mktime(9,0,0, 6, 10, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'yearly',
						'count'      => 10,
						'until'      => NULL,
						'interval'   => 1,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(),
						'bymonth'    => array(6=>1, 7=>1),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 865929600, 1 => 868521600, 2 => 897465600, 3 => 900057600, 4 => 929001600, 5 => 931593600, 6 => 960624000, 7 => 963216000, 8 => 992160000, 9 => 994752000, 
				),
			),
			19 => array(
				'description' => 'Every other year on January, February, and March for 10 occurrences',
				'default' => new Academic_time(mktime(9,0,0, 3, 10, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'yearly',
						'count'      => 10,
						'until'      => NULL,
						'interval'   => 2,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(),
						'bymonth'    => array(1=>1, 2=>1, 3=>1),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 857984400, 1 => 915958800, 2 => 918637200, 3 => 921056400, 4 => 979117200, 5 => 981795600, 6 => 984214800, 7 => 1042189200, 8 => 1044867600, 9 => 1047286800, 
				),
			),
			20 => array(
				'description' => 'Every 3rd year on the 1st, 100th and 200th day for 10 occurrences',
				'default' => new Academic_time(mktime(9,0,0, 1, 1, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'yearly',
						'count'      => 10,
						'until'      => NULL,
						'interval'   => 3,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(1=>1, 100=>1, 200=>1),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 852109200, 1 => 860659200, 2 => 869299200, 3 => 946717200, 4 => 955267200, 5 => 963907200, 6 => 1041411600, 7 => 1049961600, 8 => 1058601600, 9 => 1136106000, 
				),
			),
			21 => array(
				'description' => 'Every 20th Monday of the year, forever',
				'default' => new Academic_time(mktime(9,0,0, 5, 19, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'yearly',
						'count'      => NULL,
						'until'      => NULL,
						'interval'   => 1,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(1 => array(20=>1)),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 864028800, 1 => 895478400, 2 => 926928000, 3 => 958377600, 4 => 989827200, 5 => 1021881600, 6 => 1053331200, 7 => 1084780800, 8 => 1116230400, 9 => 1147680000, 
					10 => 1179129600, 11 => 1211184000, 12 => 1242633600, 13 => 1274083200, 14 => 1305532800, 15 => 1336982400, 16 => 1369036800, 17 => 1400486400, 18 => 1431936000, 19 => 1463385600, 
					20 => 1494835200, 21 => 1526284800, 22 => 1558339200, 
				),
			),
			22 => array(
				'description' => 'Monday of week number 20 (where the default start of the week is Monday), forever',
				'default' => new Academic_time(mktime(9,0,0, 5, 12, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'yearly',
						'count'      => NULL,
						'until'      => NULL,
						'interval'   => 1,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(20 => 1),
						'bymonthday' => array(),
						'byday'      => array(1 => 1),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 863424000, 1 => 894873600, 2 => 926928000, 3 => 958377600, 4 => 989827200, 5 => 1021276800, 6 => 1052726400, 7 => 1084176000, 8 => 1116230400, 9 => 1147680000, 
					10 => 1179129600, 11 => 1210579200, 12 => 1242028800, 13 => 1274083200, 14 => 1305532800, 15 => 1336982400, 16 => 1368432000, 17 => 1399881600, 18 => 1431331200, 19 => 1463385600, 
					20 => 1494835200, 21 => 1526284800, 22 => 1557734400, 
				),
			),
			23 => array(
				'description' => 'Every Thursday in March, forever',
				'default' => new Academic_time(mktime(9,0,0, 3, 13, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'yearly',
						'count'      => NULL,
						'until'      => NULL,
						'interval'   => 1,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(4 => 1),
						'bymonth'    => array(3=>1),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 858243600, 1 => 858848400, 2 => 859453200, 3 => 889088400, 4 => 889693200, 5 => 890298000, 6 => 890902800, 7 => 920538000, 8 => 921142800, 9 => 921747600, 
					10 => 922352400, 11 => 951987600, 12 => 952592400, 13 => 953197200, 14 => 953802000, 15 => 954403200, 16 => 983437200, 17 => 984042000, 18 => 984646800, 19 => 985251600, 
					20 => 985852800, 21 => 1015491600, 22 => 1016096400, 23 => 1016701200, 24 => 1017306000, 25 => 1046941200, 26 => 1047546000, 27 => 1048150800, 28 => 1048755600, 29 => 1078390800, 
					30 => 1078995600, 31 => 1079600400, 32 => 1080205200, 33 => 1109840400, 34 => 1110445200, 35 => 1111050000, 36 => 1111654800, 37 => 1112256000, 38 => 1141290000, 39 => 1141894800, 
					40 => 1142499600, 41 => 1143104400, 42 => 1143705600, 43 => 1172739600, 44 => 1173344400, 45 => 1173949200, 46 => 1174554000, 47 => 1175155200, 48 => 1204794000, 49 => 1205398800, 
					50 => 1206003600, 51 => 1206608400, 52 => 1236243600, 53 => 1236848400, 54 => 1237453200, 55 => 1238058000, 56 => 1267693200, 57 => 1268298000, 58 => 1268902800, 59 => 1269507600, 
					60 => 1299142800, 61 => 1299747600, 62 => 1300352400, 63 => 1300957200, 64 => 1301558400, 65 => 1330592400, 66 => 1331197200, 67 => 1331802000, 68 => 1332406800, 69 => 1333008000, 
					70 => 1362646800, 71 => 1363251600, 72 => 1363856400, 73 => 1364461200, 74 => 1394096400, 75 => 1394701200, 76 => 1395306000, 77 => 1395910800, 78 => 1425546000, 79 => 1426150800, 
					80 => 1426755600, 81 => 1427360400, 82 => 1456995600, 83 => 1457600400, 84 => 1458205200, 85 => 1458810000, 86 => 1459411200, 87 => 1488445200, 88 => 1489050000, 89 => 1489654800, 
					90 => 1490259600, 91 => 1490860800, 92 => 1519894800, 93 => 1520499600, 94 => 1521104400, 95 => 1521709200, 96 => 1522310400, 97 => 1551949200, 98 => 1552554000, 99 => 1553158800, 
					100 => 1553763600, 
				),
			),
			24 => array(
				'description' => 'Every Thursday, but only during June, July, and August, forever',
				'default' => new Academic_time(mktime(9,0,0, 6, 5, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'yearly',
						'count'      => NULL,
						'until'      => NULL,
						'interval'   => 1,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(4 => 1),
						'bymonth'    => array(6=>1, 7=>1, 8=>1),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 865497600, 1 => 866102400, 2 => 866707200, 3 => 867312000, 4 => 867916800, 5 => 868521600, 6 => 869126400, 7 => 869731200, 8 => 870336000, 9 => 870940800, 
					10 => 871545600, 11 => 872150400, 12 => 872755200, 13 => 896947200, 14 => 897552000, 15 => 898156800, 16 => 898761600, 17 => 899366400, 18 => 899971200, 19 => 900576000, 
					20 => 901180800, 21 => 901785600, 22 => 902390400, 23 => 902995200, 24 => 903600000, 25 => 904204800, 26 => 928396800, 27 => 929001600, 28 => 929606400, 29 => 930211200, 
					30 => 930816000, 31 => 931420800, 32 => 932025600, 33 => 932630400, 34 => 933235200, 35 => 933840000, 36 => 934444800, 37 => 935049600, 38 => 935654400, 39 => 959846400, 
					40 => 960451200, 41 => 961056000, 42 => 961660800, 43 => 962265600, 44 => 962870400, 45 => 963475200, 46 => 964080000, 47 => 964684800, 48 => 965289600, 49 => 965894400, 
					50 => 966499200, 51 => 967104000, 52 => 967708800, 53 => 991900800, 54 => 992505600, 55 => 993110400, 56 => 993715200, 57 => 994320000, 58 => 994924800, 59 => 995529600, 
					60 => 996134400, 61 => 996739200, 62 => 997344000, 63 => 997948800, 64 => 998553600, 65 => 999158400, 66 => 1023350400, 67 => 1023955200, 68 => 1024560000, 69 => 1025164800, 
					70 => 1025769600, 71 => 1026374400, 72 => 1026979200, 73 => 1027584000, 74 => 1028188800, 75 => 1028793600, 76 => 1029398400, 77 => 1030003200, 78 => 1030608000, 79 => 1054800000, 
					80 => 1055404800, 81 => 1056009600, 82 => 1056614400, 83 => 1057219200, 84 => 1057824000, 85 => 1058428800, 86 => 1059033600, 87 => 1059638400, 88 => 1060243200, 89 => 1060848000, 
					90 => 1061452800, 91 => 1062057600, 92 => 1086249600, 93 => 1086854400, 94 => 1087459200, 95 => 1088064000, 96 => 1088668800, 97 => 1089273600, 98 => 1089878400, 99 => 1090483200, 
					100 => 1091088000, 101 => 1091692800, 102 => 1092297600, 103 => 1092902400, 104 => 1093507200, 105 => 1117699200, 106 => 1118304000, 107 => 1118908800, 108 => 1119513600, 109 => 1120118400, 
					110 => 1120723200, 111 => 1121328000, 112 => 1121932800, 113 => 1122537600, 114 => 1123142400, 115 => 1123747200, 116 => 1124352000, 117 => 1124956800, 118 => 1149148800, 119 => 1149753600, 
					120 => 1150358400, 121 => 1150963200, 122 => 1151568000, 123 => 1152172800, 124 => 1152777600, 125 => 1153382400, 126 => 1153987200, 127 => 1154592000, 128 => 1155196800, 129 => 1155801600, 
					130 => 1156406400, 131 => 1157011200, 132 => 1181203200, 133 => 1181808000, 134 => 1182412800, 135 => 1183017600, 136 => 1183622400, 137 => 1184227200, 138 => 1184832000, 139 => 1185436800, 
					140 => 1186041600, 141 => 1186646400, 142 => 1187251200, 143 => 1187856000, 144 => 1188460800, 145 => 1212652800, 146 => 1213257600, 147 => 1213862400, 148 => 1214467200, 149 => 1215072000, 
					150 => 1215676800, 151 => 1216281600, 152 => 1216886400, 153 => 1217491200, 154 => 1218096000, 155 => 1218700800, 156 => 1219305600, 157 => 1219910400, 158 => 1244102400, 159 => 1244707200, 
					160 => 1245312000, 161 => 1245916800, 162 => 1246521600, 163 => 1247126400, 164 => 1247731200, 165 => 1248336000, 166 => 1248940800, 167 => 1249545600, 168 => 1250150400, 169 => 1250755200, 
					170 => 1251360000, 171 => 1275552000, 172 => 1276156800, 173 => 1276761600, 174 => 1277366400, 175 => 1277971200, 176 => 1278576000, 177 => 1279180800, 178 => 1279785600, 179 => 1280390400, 
					180 => 1280995200, 181 => 1281600000, 182 => 1282204800, 183 => 1282809600, 184 => 1307001600, 185 => 1307606400, 186 => 1308211200, 187 => 1308816000, 188 => 1309420800, 189 => 1310025600, 
					190 => 1310630400, 191 => 1311235200, 192 => 1311840000, 193 => 1312444800, 194 => 1313049600, 195 => 1313654400, 196 => 1314259200, 197 => 1339056000, 198 => 1339660800, 199 => 1340265600, 
					200 => 1340870400, 201 => 1341475200, 202 => 1342080000, 203 => 1342684800, 204 => 1343289600, 205 => 1343894400, 206 => 1344499200, 207 => 1345104000, 208 => 1345708800, 209 => 1346313600, 
					210 => 1370505600, 211 => 1371110400, 212 => 1371715200, 213 => 1372320000, 214 => 1372924800, 215 => 1373529600, 216 => 1374134400, 217 => 1374739200, 218 => 1375344000, 219 => 1375948800, 
					220 => 1376553600, 221 => 1377158400, 222 => 1377763200, 223 => 1401955200, 224 => 1402560000, 225 => 1403164800, 226 => 1403769600, 227 => 1404374400, 228 => 1404979200, 229 => 1405584000, 
					230 => 1406188800, 231 => 1406793600, 232 => 1407398400, 233 => 1408003200, 234 => 1408608000, 235 => 1409212800, 236 => 1433404800, 237 => 1434009600, 238 => 1434614400, 239 => 1435219200, 
					240 => 1435824000, 241 => 1436428800, 242 => 1437033600, 243 => 1437638400, 244 => 1438243200, 245 => 1438848000, 246 => 1439452800, 247 => 1440057600, 248 => 1440662400, 249 => 1464854400, 
					250 => 1465459200, 251 => 1466064000, 252 => 1466668800, 253 => 1467273600, 254 => 1467878400, 255 => 1468483200, 256 => 1469088000, 257 => 1469692800, 258 => 1470297600, 259 => 1470902400, 
					260 => 1471507200, 261 => 1472112000, 262 => 1496304000, 263 => 1496908800, 264 => 1497513600, 265 => 1498118400, 266 => 1498723200, 267 => 1499328000, 268 => 1499932800, 269 => 1500537600, 
					270 => 1501142400, 271 => 1501747200, 272 => 1502352000, 273 => 1502956800, 274 => 1503561600, 275 => 1504166400, 276 => 1528358400, 277 => 1528963200, 278 => 1529568000, 279 => 1530172800, 
					280 => 1530777600, 281 => 1531382400, 282 => 1531987200, 283 => 1532592000, 284 => 1533196800, 285 => 1533801600, 286 => 1534406400, 287 => 1535011200, 288 => 1535616000, 289 => 1559808000, 
					290 => 1560412800, 291 => 1561017600, 292 => 1561622400, 293 => 1562227200, 294 => 1562832000, 295 => 1563436800, 296 => 1564041600, 297 => 1564646400, 298 => 1565251200, 299 => 1565856000, 
					300 => 1566460800, 301 => 1567065600, 
				),
			),
			25 => array(
				'description' => 'Every Friday the 13th, forever',
				'default' => new Academic_time(mktime(9,0,0, 9, 2, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'monthly',
						'count'      => NULL,
						'until'      => NULL,
						'interval'   => 1,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(13 => 1),
						'byday'      => array(5 => 1),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 887360400, 1 => 889779600, 2 => 910947600, 3 => 934531200, 4 => 971424000, 5 => 987148800, 6 => 995011200, 7 => 1031904000, 8 => 1039770000, 9 => 1055491200, 
					10 => 1076662800, 11 => 1092384000, 12 => 1115971200, 13 => 1137142800, 14 => 1160726400, 15 => 1176451200, 16 => 1184313600, 17 => 1213344000, 18 => 1234515600, 19 => 1236934800, 
					20 => 1258102800, 21 => 1281686400, 22 => 1305273600, 23 => 1326445200, 24 => 1334304000, 25 => 1342166400, 26 => 1379059200, 27 => 1386925200, 28 => 1402646400, 29 => 1423818000, 
					30 => 1426237200, 31 => 1447405200, 32 => 1463126400, 33 => 1484298000, 34 => 1507881600, 35 => 1523606400, 36 => 1531468800, 37 => 1568361600, 38 => 1576227600, 
				),
			),
			26 => array(
				'description' => 'The first Saturday that follows the first Sunday of the month, forever',
				'default' => new Academic_time(mktime(9,0,0, 9, 13, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'monthly',
						'count'      => NULL,
						'until'      => NULL,
						'interval'   => 1,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(7=>1, 8=>1, 9=>1, 10=>1, 11=>1, 12=>1, 13=>1),
						'byday'      => array(6=>1),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 874137600, 1 => 876556800, 2 => 878979600, 3 => 882003600, 4 => 884422800, 5 => 886842000, 6 => 889261200, 7 => 892281600, 8 => 894700800, 9 => 897724800, 
					10 => 900144000, 11 => 902563200, 12 => 905587200, 13 => 908006400, 14 => 910429200, 15 => 913453200, 16 => 915872400, 17 => 918896400, 18 => 921315600, 19 => 923731200, 
					20 => 926150400, 21 => 929174400, 22 => 931593600, 23 => 934012800, 24 => 937036800, 25 => 939456000, 26 => 942483600, 27 => 944902800, 28 => 947322000, 29 => 950346000, 
					30 => 952765200, 31 => 955180800, 32 => 958204800, 33 => 960624000, 34 => 963043200, 35 => 966067200, 36 => 968486400, 37 => 970905600, 38 => 973933200, 39 => 976352400, 
					40 => 979376400, 41 => 981795600, 42 => 984214800, 43 => 986630400, 44 => 989654400, 45 => 992073600, 46 => 994492800, 47 => 997516800, 48 => 999936000, 49 => 1002960000, 
					50 => 1005382800, 51 => 1007802000, 52 => 1010826000, 53 => 1013245200, 54 => 1015664400, 55 => 1018684800, 56 => 1021104000, 57 => 1023523200, 58 => 1026547200, 59 => 1028966400, 
					60 => 1031385600, 61 => 1034409600, 62 => 1036832400, 63 => 1039251600, 64 => 1042275600, 65 => 1044694800, 66 => 1047114000, 67 => 1050134400, 68 => 1052553600, 69 => 1054972800, 
					70 => 1057996800, 71 => 1060416000, 72 => 1063440000, 73 => 1065859200, 74 => 1068282000, 75 => 1071306000, 76 => 1073725200, 77 => 1076144400, 78 => 1079168400, 79 => 1081584000, 
					80 => 1084003200, 81 => 1087027200, 82 => 1089446400, 83 => 1091865600, 84 => 1094889600, 85 => 1097308800, 86 => 1100336400, 87 => 1102755600, 88 => 1105174800, 89 => 1108198800, 
					90 => 1110618000, 91 => 1113033600, 92 => 1115452800, 93 => 1118476800, 94 => 1120896000, 95 => 1123920000, 96 => 1126339200, 97 => 1128758400, 98 => 1131786000, 99 => 1134205200, 
					100 => 1136624400, 101 => 1139648400, 102 => 1142067600, 103 => 1144483200, 104 => 1147507200, 105 => 1149926400, 106 => 1152345600, 107 => 1155369600, 108 => 1157788800, 109 => 1160208000, 
					110 => 1163235600, 111 => 1165654800, 112 => 1168678800, 113 => 1171098000, 114 => 1173517200, 115 => 1175932800, 116 => 1178956800, 117 => 1181376000, 118 => 1183795200, 119 => 1186819200, 
					120 => 1189238400, 121 => 1192262400, 122 => 1194685200, 123 => 1197104400, 124 => 1200128400, 125 => 1202547600, 126 => 1204966800, 127 => 1207987200, 128 => 1210406400, 129 => 1212825600, 
					130 => 1215849600, 131 => 1218268800, 132 => 1221292800, 133 => 1223712000, 134 => 1226134800, 135 => 1229158800, 136 => 1231578000, 137 => 1233997200, 138 => 1236416400, 139 => 1239436800, 
					140 => 1241856000, 141 => 1244880000, 142 => 1247299200, 143 => 1249718400, 144 => 1252742400, 145 => 1255161600, 146 => 1257584400, 147 => 1260608400, 148 => 1263027600, 149 => 1266051600, 
					150 => 1268470800, 151 => 1270886400, 152 => 1273305600, 153 => 1276329600, 154 => 1278748800, 155 => 1281168000, 156 => 1284192000, 157 => 1286611200, 158 => 1289638800, 159 => 1292058000, 
					160 => 1294477200, 161 => 1297501200, 162 => 1299920400, 163 => 1302336000, 164 => 1304755200, 165 => 1307779200, 166 => 1310198400, 167 => 1313222400, 168 => 1315641600, 169 => 1318060800, 
					170 => 1321088400, 171 => 1323507600, 172 => 1325926800, 173 => 1328950800, 174 => 1331370000, 175 => 1333785600, 176 => 1336809600, 177 => 1339228800, 178 => 1341648000, 179 => 1344672000, 
					180 => 1347091200, 181 => 1350115200, 182 => 1352538000, 183 => 1354957200, 184 => 1357981200, 185 => 1360400400, 186 => 1362819600, 187 => 1365840000, 188 => 1368259200, 189 => 1370678400, 
					190 => 1373702400, 191 => 1376121600, 192 => 1378540800, 193 => 1381564800, 194 => 1383987600, 195 => 1386406800, 196 => 1389430800, 197 => 1391850000, 198 => 1394269200, 199 => 1397289600, 
					200 => 1399708800, 201 => 1402128000, 202 => 1405152000, 203 => 1407571200, 204 => 1410595200, 205 => 1413014400, 206 => 1415437200, 207 => 1418461200, 208 => 1420880400, 209 => 1423299600, 
					210 => 1425718800, 211 => 1428739200, 212 => 1431158400, 213 => 1434182400, 214 => 1436601600, 215 => 1439020800, 216 => 1442044800, 217 => 1444464000, 218 => 1446886800, 219 => 1449910800, 
					220 => 1452330000, 221 => 1455354000, 222 => 1457773200, 223 => 1460188800, 224 => 1462608000, 225 => 1465632000, 226 => 1468051200, 227 => 1471075200, 228 => 1473494400, 229 => 1475913600, 
					230 => 1478941200, 231 => 1481360400, 232 => 1483779600, 233 => 1486803600, 234 => 1489222800, 235 => 1491638400, 236 => 1494662400, 237 => 1497081600, 238 => 1499500800, 239 => 1502524800, 
					240 => 1504944000, 241 => 1507363200, 242 => 1510390800, 243 => 1512810000, 244 => 1515834000, 245 => 1518253200, 246 => 1520672400, 247 => 1523088000, 248 => 1526112000, 249 => 1528531200, 
					250 => 1530950400, 251 => 1533974400, 252 => 1536393600, 253 => 1539417600, 254 => 1541840400, 255 => 1544259600, 256 => 1547283600, 257 => 1549702800, 258 => 1552122000, 259 => 1555142400, 
					260 => 1557561600, 261 => 1559980800, 262 => 1563004800, 263 => 1565424000, 264 => 1567843200, 265 => 1570867200, 266 => 1573290000, 267 => 1575709200, 
				),
			),
			27 => array(
				'description' => 'Every four years, the first Tuesday after a Monday in November, forever (U.S. Presidential Election day)',
				'default' => new Academic_time(mktime(9,0,0, 11, 5, 1996)),
				'rrule' => array(
					array(
						'freq'       => 'yearly',
						'count'      => NULL,
						'until'      => NULL,
						'interval'   => 4,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(2 => 1, 3=>1, 4=>1, 5=>1, 6=>1, 7=>1, 9=>1),
						'byday'      => array(2 => 1),
						'bymonth'    => array(11=>1),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 847184400, 1 => 973587600, 2 => 1099386000, 3 => 1099990800, 4 => 1225789200, 5 => 1352192400, 
				),
			),
			28 => array(
				'description' => 'The 3rd instance into the month of one of Tuesday, Wednesday or Thursday, for the next 3 months',
				'default' => new Academic_time(mktime(9,0,0, 9, 4, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'monthly',
						'count'      => 3,
						'until'      => NULL,
						'interval'   => 1,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(2=>1, 3=>1, 4=>1),
						'bymonth'    => array(),
						'bysetpos'   => array(3=>1),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 873360000, 1 => 876211200, 2 => 878806800, 
				),
			),
			29 => array(
				'description' => 'The 2nd to last weekday of the month',
				'default' => new Academic_time(mktime(9,0,0, 9, 29, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'monthly',
						'count'      => NULL,
						'until'      => NULL,
						'interval'   => 1,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(1=>1, 2=>1, 3=>1, 4=>1, 5=>1),
						'bymonth'    => array(),
						'bysetpos'   => array(-2=>1),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 875520000, 1 => 878202000, 2 => 880621200, 3 => 883472400, 4 => 886064400, 5 => 888483600, 6 => 891244800, 7 => 893836800, 8 => 896342400, 9 => 899107200, 
					10 => 901785600, 11 => 904291200, 12 => 907056000, 13 => 909651600, 14 => 912157200, 15 => 915008400, 16 => 917514000, 17 => 919933200, 18 => 922780800, 19 => 925372800, 
					20 => 927878400, 21 => 930643200, 22 => 933235200, 23 => 936000000, 24 => 938592000, 25 => 941097600, 26 => 943866000, 27 => 946544400, 28 => 949050000, 29 => 951728400, 
					30 => 954403200, 31 => 956822400, 32 => 959673600, 33 => 962265600, 34 => 964771200, 35 => 967622400, 36 => 970128000, 37 => 972896400, 38 => 975488400, 39 => 977994000, 
					40 => 980845200, 41 => 983264400, 42 => 985852800, 43 => 988358400, 44 => 991209600, 45 => 993715200, 46 => 996480000, 47 => 999158400, 48 => 1001577600, 49 => 1004432400, 
					50 => 1007024400, 51 => 1009530000, 52 => 1012381200, 53 => 1014800400, 54 => 1017306000, 55 => 1020067200, 56 => 1022745600, 57 => 1025164800, 58 => 1028016000, 59 => 1030608000, 
					60 => 1033113600, 61 => 1035968400, 62 => 1038474000, 63 => 1041238800, 64 => 1043917200, 65 => 1046336400, 66 => 1048842000, 67 => 1051603200, 68 => 1054195200, 69 => 1056700800, 
					70 => 1059552000, 71 => 1062057600, 72 => 1064822400, 73 => 1067504400, 74 => 1069923600, 75 => 1072774800, 76 => 1075366800, 77 => 1077786000, 78 => 1080633600, 79 => 1083225600, 
					80 => 1085731200, 81 => 1088496000, 82 => 1091088000, 83 => 1093852800, 84 => 1096444800, 85 => 1098950400, 86 => 1101718800, 87 => 1104397200, 88 => 1106902800, 89 => 1109322000, 
					90 => 1112169600, 91 => 1114675200, 92 => 1117440000, 93 => 1120032000, 94 => 1122537600, 95 => 1125388800, 96 => 1127980800, 97 => 1130486400, 98 => 1133254800, 99 => 1135846800, 
					100 => 1138611600, 101 => 1141030800, 102 => 1143705600, 103 => 1146124800, 104 => 1148976000, 105 => 1151568000, 106 => 1154073600, 107 => 1156924800, 108 => 1159430400, 109 => 1162198800, 
					110 => 1164790800, 111 => 1167296400, 112 => 1170147600, 113 => 1172566800, 114 => 1175155200, 115 => 1177660800, 116 => 1180512000, 117 => 1183017600, 118 => 1185782400, 119 => 1188460800, 
					120 => 1190880000, 121 => 1193734800, 122 => 1196326800, 123 => 1198832400, 124 => 1201683600, 125 => 1204189200, 126 => 1206694800, 127 => 1209456000, 128 => 1212048000, 129 => 1214553600, 
					130 => 1217404800, 131 => 1219910400, 132 => 1222675200, 133 => 1225357200, 134 => 1227776400, 135 => 1230627600, 136 => 1233219600, 137 => 1235638800, 138 => 1238400000, 139 => 1240992000, 
					140 => 1243497600, 141 => 1246262400, 142 => 1248940800, 143 => 1251446400, 144 => 1254211200, 145 => 1256806800, 146 => 1259312400, 147 => 1262163600, 148 => 1264669200, 149 => 1267088400, 
					150 => 1269936000, 151 => 1272528000, 152 => 1275033600, 153 => 1277798400, 154 => 1280390400, 155 => 1283155200, 156 => 1285747200, 157 => 1288252800, 158 => 1291021200, 159 => 1293699600, 
					160 => 1296205200, 161 => 1298624400, 162 => 1301472000, 163 => 1303977600, 164 => 1306742400, 165 => 1309334400, 166 => 1311840000, 167 => 1314691200, 168 => 1317283200, 169 => 1319788800, 
					170 => 1322557200, 171 => 1325149200, 172 => 1327914000, 173 => 1330419600, 174 => 1333008000, 175 => 1335513600, 176 => 1338364800, 177 => 1340870400, 178 => 1343635200, 179 => 1346313600, 
					180 => 1348732800, 181 => 1351587600, 182 => 1354179600, 183 => 1356685200, 184 => 1359536400, 185 => 1361955600, 186 => 1364461200, 187 => 1367222400, 188 => 1369900800, 189 => 1372320000, 
					190 => 1375171200, 191 => 1377763200, 192 => 1380268800, 193 => 1383123600, 194 => 1385629200, 195 => 1388394000, 196 => 1391072400, 197 => 1393491600, 198 => 1395997200, 199 => 1398758400, 
					200 => 1401350400, 201 => 1403856000, 202 => 1406707200, 203 => 1409212800, 204 => 1411977600, 205 => 1414659600, 206 => 1417078800, 207 => 1419930000, 208 => 1422522000, 209 => 1424941200, 
					210 => 1427702400, 211 => 1430294400, 212 => 1432800000, 213 => 1435564800, 214 => 1438243200, 215 => 1440748800, 216 => 1443513600, 217 => 1446109200, 218 => 1448614800, 219 => 1451466000, 
					220 => 1453971600, 221 => 1456477200, 222 => 1459324800, 223 => 1461830400, 224 => 1464595200, 225 => 1467187200, 226 => 1469692800, 227 => 1472544000, 228 => 1475136000, 229 => 1477641600, 
					230 => 1480410000, 231 => 1483002000, 232 => 1485766800, 233 => 1488186000, 234 => 1490860800, 235 => 1493280000, 236 => 1496131200, 237 => 1498723200, 238 => 1501228800, 239 => 1504080000, 
					240 => 1506585600, 241 => 1509354000, 242 => 1511946000, 243 => 1514451600, 244 => 1517302800, 245 => 1519722000, 246 => 1522310400, 247 => 1524816000, 248 => 1527667200, 249 => 1530172800, 
					250 => 1532937600, 251 => 1535616000, 252 => 1538035200, 253 => 1540890000, 254 => 1543482000, 255 => 1545987600, 256 => 1548838800, 257 => 1551258000, 258 => 1553763600, 259 => 1556524800, 
					260 => 1559203200, 261 => 1561622400, 262 => 1564473600, 263 => 1567065600, 264 => 1569571200, 265 => 1572426000, 266 => 1574931600, 267 => 1577696400, 
				),
			),
			30 => array(
				'description' => 'Every 3 hours from 9:00 AM to 5:00 PM on a specific day',
				'default' => new Academic_time(mktime(9,0,0, 9, 2, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'hourly',
						'count'      => NULL,
						'until'      => mktime(17,0,0, 9,2,1997),
						'interval'   => 3,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
						'comment'    => 'FREQ=HOURLY has low priority',
					),
				),
				'expected' => Array(
					0
				),
			),
			31 => array(
				'description' => 'Every 15 minutes for 6 occurrences',
				'default' => new Academic_time(mktime(9,0,0, 9, 2, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'minutely',
						'count'      => 6,
						'until'      => NULL,
						'interval'   => 15,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
						'comment'    => 'FREQ=MINUTELY has low priority',
					),
				),
				'expected' => Array(
					0
				),
			),
			32 => array(
				'description' => 'Every hour and a half for 4 occurrences',
				'default' => new Academic_time(mktime(9,0,0, 9, 2, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'minutely',
						'count'      => 4,
						'until'      => NULL,
						'interval'   => 90,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
						'comment'    => 'FREQ=MINUTELY has low priority',
					),
				),
				'expected' => Array(
					0
				),
			),
			33 => array(
				'description' => 'Every 20 minutes from 9:00 AM to 4:40 PM every day',
				'default' => new Academic_time(mktime(9,0,0, 9, 2, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'daily',
						'count'      => NULL,
						'until'      => NULL,
						'interval'   => 1,
						'bysecond'   => array(),
						'byminute'   => array(0=>1, 20=>1, 40=>1),
						'byhour'     => array(9=>1, 10=>1, 11=>1, 12=>1, 13=>1, 14=>1, 15=>1, 16=>1),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
					array(
						'freq'       => 'minutely',
						'count'      => NULL,
						'until'      => NULL,
						'interval'   => 20,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(9=>1, 10=>1, 11=>1, 12=>1, 13=>1, 14=>1, 15=>1, 16=>1),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
						'comment'    => 'FREQ=MINUTELY has low priority',
					),
				),
				'expected' => Array(
					0 => 873187200, 1 => 873188400, 2 => 873189600, 3 => 873190800, 4 => 873192000, 5 => 873193200, 6 => 873194400, 7 => 873195600, 8 => 873196800, 9 => 873198000, 
					10 => 873199200, 11 => 873200400, 12 => 873201600, 13 => 873202800, 14 => 873204000, 15 => 873205200, 16 => 873206400, 17 => 873207600, 18 => 873208800, 19 => 873210000, 
					20 => 873211200, 21 => 873212400, 22 => 873213600, 23 => 873214800, 24 => 873273600, 25 => 873274800, 26 => 873276000, 27 => 873277200, 28 => 873278400, 29 => 873279600, 
					30 => 873280800, 31 => 873282000, 32 => 873283200, 33 => 873284400, 34 => 873285600, 35 => 873286800, 36 => 873288000, 37 => 873289200, 38 => 873290400, 39 => 873291600, 
					40 => 873292800, 41 => 873294000, 42 => 873295200, 43 => 873296400, 44 => 873297600, 45 => 873298800, 46 => 873300000, 47 => 873301200, 48 => 873360000, 49 => 873361200, 
					50 => 873362400, 51 => 873363600, 52 => 873364800, 53 => 873366000, 54 => 873367200, 55 => 873368400, 56 => 873369600, 57 => 873370800, 58 => 873372000, 59 => 873373200, 
					60 => 873374400, 61 => 873375600, 62 => 873376800, 63 => 873378000, 64 => 873379200, 65 => 873380400, 66 => 873381600, 67 => 873382800, 68 => 873384000, 69 => 873385200, 
					70 => 873386400, 71 => 873387600, 72 => 873446400, 73 => 873447600, 74 => 873448800, 75 => 873450000, 76 => 873451200, 77 => 873452400, 78 => 873453600, 79 => 873454800, 
					80 => 873456000, 81 => 873457200, 82 => 873458400, 83 => 873459600, 84 => 873460800, 85 => 873462000, 86 => 873463200, 87 => 873464400, 88 => 873465600, 89 => 873466800, 
					90 => 873468000, 91 => 873469200, 92 => 873470400, 93 => 873471600, 94 => 873472800, 95 => 873474000, 96 => 873532800, 97 => 873534000, 98 => 873535200, 99 => 873536400, 
					100 => 873537600, 101 => 873538800, 102 => 873540000, 103 => 873541200, 104 => 873542400, 105 => 873543600, 106 => 873544800, 107 => 873546000, 108 => 873547200, 109 => 873548400, 
					110 => 873549600, 111 => 873550800, 112 => 873552000, 113 => 873553200, 114 => 873554400, 115 => 873555600, 116 => 873556800, 117 => 873558000, 118 => 873559200, 119 => 873560400, 
					120 => 873619200, 121 => 873620400, 122 => 873621600, 123 => 873622800, 124 => 873624000, 125 => 873625200, 126 => 873626400, 127 => 873627600, 128 => 873628800, 129 => 873630000, 
					130 => 873631200, 131 => 873632400, 132 => 873633600, 133 => 873634800, 134 => 873636000, 135 => 873637200, 136 => 873638400, 137 => 873639600, 138 => 873640800, 139 => 873642000, 
					140 => 873643200, 141 => 873644400, 142 => 873645600, 143 => 873646800, 144 => 873705600, 145 => 873706800, 146 => 873708000, 147 => 873709200, 148 => 873710400, 149 => 873711600, 
					150 => 873712800, 151 => 873714000, 152 => 873715200, 153 => 873716400, 154 => 873717600, 155 => 873718800, 156 => 873720000, 157 => 873721200, 158 => 873722400, 159 => 873723600, 
					160 => 873724800, 161 => 873726000, 162 => 873727200, 163 => 873728400, 164 => 873729600, 165 => 873730800, 166 => 873732000, 167 => 873733200, 168 => 873792000, 169 => 873793200, 
					170 => 873794400, 171 => 873795600, 172 => 873796800, 173 => 873798000, 174 => 873799200, 175 => 873800400, 176 => 873801600, 177 => 873802800, 178 => 873804000, 179 => 873805200, 
					180 => 873806400, 181 => 873807600, 182 => 873808800, 183 => 873810000, 184 => 873811200, 185 => 873812400, 186 => 873813600, 187 => 873814800, 188 => 873816000, 189 => 873817200, 
					190 => 873818400, 191 => 873819600, 192 => 873878400, 193 => 873879600, 194 => 873880800, 195 => 873882000, 196 => 873883200, 197 => 873884400, 198 => 873885600, 199 => 873886800, 
					200 => 873888000, 201 => 873889200, 202 => 873890400, 203 => 873891600, 204 => 873892800, 205 => 873894000, 206 => 873895200, 207 => 873896400, 208 => 873897600, 209 => 873898800, 
					210 => 873900000, 211 => 873901200, 212 => 873902400, 213 => 873903600, 214 => 873904800, 215 => 873906000, 216 => 873964800, 217 => 873966000, 218 => 873967200, 219 => 873968400, 
					220 => 873969600, 221 => 873970800, 222 => 873972000, 223 => 873973200, 224 => 873974400, 225 => 873975600, 226 => 873976800, 227 => 873978000, 228 => 873979200, 229 => 873980400, 
					230 => 873981600, 231 => 873982800, 232 => 873984000, 233 => 873985200, 234 => 873986400, 235 => 873987600, 236 => 873988800, 237 => 873990000, 238 => 873991200, 239 => 873992400, 
					240 => 874051200, 241 => 874052400, 242 => 874053600, 243 => 874054800, 244 => 874056000, 245 => 874057200, 246 => 874058400, 247 => 874059600, 248 => 874060800, 249 => 874062000, 
					250 => 874063200, 251 => 874064400, 252 => 874065600, 253 => 874066800, 254 => 874068000, 255 => 874069200, 256 => 874070400, 257 => 874071600, 258 => 874072800, 259 => 874074000, 
					260 => 874075200, 261 => 874076400, 262 => 874077600, 263 => 874078800, 264 => 874137600, 265 => 874138800, 266 => 874140000, 267 => 874141200, 268 => 874142400, 269 => 874143600, 
					270 => 874144800, 271 => 874146000, 272 => 874147200, 273 => 874148400, 274 => 874149600, 275 => 874150800, 276 => 874152000, 277 => 874153200, 278 => 874154400, 279 => 874155600, 
					280 => 874156800, 281 => 874158000, 282 => 874159200, 283 => 874160400, 284 => 874161600, 285 => 874162800, 286 => 874164000, 287 => 874165200, 288 => 874224000, 289 => 874225200, 
					290 => 874226400, 291 => 874227600, 292 => 874228800, 293 => 874230000, 294 => 874231200, 295 => 874232400, 296 => 874233600, 297 => 874234800, 298 => 874236000, 299 => 874237200, 
					300 => 874238400, 301 => 874239600, 302 => 874240800, 303 => 874242000, 304 => 874243200, 305 => 874244400, 306 => 874245600, 307 => 874246800, 308 => 874248000, 309 => 874249200, 
					310 => 874250400, 311 => 874251600, 312 => 874310400, 313 => 874311600, 314 => 874312800, 315 => 874314000, 316 => 874315200, 317 => 874316400, 318 => 874317600, 319 => 874318800, 
					320 => 874320000, 321 => 874321200, 322 => 874322400, 323 => 874323600, 324 => 874324800, 325 => 874326000, 326 => 874327200, 327 => 874328400, 328 => 874329600, 329 => 874330800, 
					330 => 874332000, 331 => 874333200, 332 => 874334400, 333 => 874335600, 334 => 874336800, 335 => 874338000, 336 => 874396800, 337 => 874398000, 338 => 874399200, 339 => 874400400, 
					340 => 874401600, 341 => 874402800, 342 => 874404000, 343 => 874405200, 344 => 874406400, 345 => 874407600, 346 => 874408800, 347 => 874410000, 348 => 874411200, 349 => 874412400, 
					350 => 874413600, 351 => 874414800, 352 => 874416000, 353 => 874417200, 354 => 874418400, 355 => 874419600, 356 => 874420800, 357 => 874422000, 358 => 874423200, 359 => 874424400, 
					360 => 874483200, 361 => 874484400, 362 => 874485600, 363 => 874486800, 364 => 874488000, 365 => 874489200, 366 => 874490400, 367 => 874491600, 368 => 874492800, 369 => 874494000, 
					370 => 874495200, 371 => 874496400, 372 => 874497600, 373 => 874498800, 374 => 874500000, 375 => 874501200, 376 => 874502400, 377 => 874503600, 378 => 874504800, 379 => 874506000, 
					380 => 874507200, 381 => 874508400, 382 => 874509600, 383 => 874510800, 384 => 874569600, 385 => 874570800, 386 => 874572000, 387 => 874573200, 388 => 874574400, 389 => 874575600, 
					390 => 874576800, 391 => 874578000, 392 => 874579200, 393 => 874580400, 394 => 874581600, 395 => 874582800, 396 => 874584000, 397 => 874585200, 398 => 874586400, 399 => 874587600, 
					400 => 874588800, 401 => 874590000, 402 => 874591200, 403 => 874592400, 404 => 874593600, 405 => 874594800, 406 => 874596000, 407 => 874597200, 408 => 874656000, 409 => 874657200, 
					410 => 874658400, 411 => 874659600, 412 => 874660800, 413 => 874662000, 414 => 874663200, 415 => 874664400, 416 => 874665600, 417 => 874666800, 418 => 874668000, 419 => 874669200, 
					420 => 874670400, 421 => 874671600, 422 => 874672800, 423 => 874674000, 424 => 874675200, 425 => 874676400, 426 => 874677600, 427 => 874678800, 428 => 874680000, 429 => 874681200, 
					430 => 874682400, 431 => 874683600, 432 => 874742400, 433 => 874743600, 434 => 874744800, 435 => 874746000, 436 => 874747200, 437 => 874748400, 438 => 874749600, 439 => 874750800, 
					440 => 874752000, 441 => 874753200, 442 => 874754400, 443 => 874755600, 444 => 874756800, 445 => 874758000, 446 => 874759200, 447 => 874760400, 448 => 874761600, 449 => 874762800, 
					450 => 874764000, 451 => 874765200, 452 => 874766400, 453 => 874767600, 454 => 874768800, 455 => 874770000, 456 => 874828800, 457 => 874830000, 458 => 874831200, 459 => 874832400, 
					460 => 874833600, 461 => 874834800, 462 => 874836000, 463 => 874837200, 464 => 874838400, 465 => 874839600, 466 => 874840800, 467 => 874842000, 468 => 874843200, 469 => 874844400, 
					470 => 874845600, 471 => 874846800, 472 => 874848000, 473 => 874849200, 474 => 874850400, 475 => 874851600, 476 => 874852800, 477 => 874854000, 478 => 874855200, 479 => 874856400, 
					480 => 874915200, 481 => 874916400, 482 => 874917600, 483 => 874918800, 484 => 874920000, 485 => 874921200, 486 => 874922400, 487 => 874923600, 488 => 874924800, 489 => 874926000, 
					490 => 874927200, 491 => 874928400, 492 => 874929600, 493 => 874930800, 494 => 874932000, 495 => 874933200, 496 => 874934400, 497 => 874935600, 498 => 874936800, 499 => 874938000, 
					500 => 874939200, 501 => 874940400, 502 => 874941600, 503 => 874942800, 504 => 875001600, 505 => 875002800, 506 => 875004000, 507 => 875005200, 508 => 875006400, 509 => 875007600, 
					510 => 875008800, 511 => 875010000, 512 => 875011200, 513 => 875012400, 514 => 875013600, 515 => 875014800, 516 => 875016000, 517 => 875017200, 518 => 875018400, 519 => 875019600, 
					520 => 875020800, 521 => 875022000, 522 => 875023200, 523 => 875024400, 524 => 875025600, 525 => 875026800, 526 => 875028000, 527 => 875029200, 528 => 875088000, 529 => 875089200, 
					530 => 875090400, 531 => 875091600, 532 => 875092800, 533 => 875094000, 534 => 875095200, 535 => 875096400, 536 => 875097600, 537 => 875098800, 538 => 875100000, 539 => 875101200, 
					540 => 875102400, 541 => 875103600, 542 => 875104800, 543 => 875106000, 544 => 875107200, 545 => 875108400, 546 => 875109600, 547 => 875110800, 548 => 875112000, 549 => 875113200, 
					550 => 875114400, 551 => 875115600, 552 => 875174400, 553 => 875175600, 554 => 875176800, 555 => 875178000, 556 => 875179200, 557 => 875180400, 558 => 875181600, 559 => 875182800, 
					560 => 875184000, 561 => 875185200, 562 => 875186400, 563 => 875187600, 564 => 875188800, 565 => 875190000, 566 => 875191200, 567 => 875192400, 568 => 875193600, 569 => 875194800, 
					570 => 875196000, 571 => 875197200, 572 => 875198400, 573 => 875199600, 574 => 875200800, 575 => 875202000, 576 => 875260800, 577 => 875262000, 578 => 875263200, 579 => 875264400, 
					580 => 875265600, 581 => 875266800, 582 => 875268000, 583 => 875269200, 584 => 875270400, 585 => 875271600, 586 => 875272800, 587 => 875274000, 588 => 875275200, 589 => 875276400, 
					590 => 875277600, 591 => 875278800, 592 => 875280000, 593 => 875281200, 594 => 875282400, 595 => 875283600, 596 => 875284800, 597 => 875286000, 598 => 875287200, 599 => 875288400, 
				),
			),
			34 => array(
				'description' => 'An example where the days generated makes a difference because of WKST',
				'default' => new Academic_time(mktime(9,0,0, 8, 5, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'weekly',
						'count'      => 4,
						'until'      => NULL,
						'interval'   => 2,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(0=>1, 2=>1),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 1,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 870768000, 1 => 871200000, 2 => 871977600, 3 => 872409600, 
				),
			),
			35 => array(
				'description' => 'changing only WKST from MO to SU, yields different results',
				'default' => new Academic_time(mktime(9,0,0, 8, 5, 1997)),
				'rrule' => array(
					array(
						'freq'       => 'weekly',
						'count'      => 4,
						'until'      => NULL,
						'interval'   => 2,
						'bysecond'   => array(),
						'byminute'   => array(),
						'byhour'     => array(),
						'byyearday'  => array(),
						'byweekno'   => array(),
						'bymonthday' => array(),
						'byday'      => array(0=>1, 2=>1),
						'bymonth'    => array(),
						'bysetpos'   => array(),
						'wkst'       => 0,
			// 				'debug'      => 1,
					),
				),
				'expected' => Array(
					0 => 870768000, 1 => 871804800, 2 => 871977600, 3 => 873014400, 
				),
			),
			
			/*
			0 => array(
				'description' => 'Every 10 days, 5 occurrences',
				'default' => new Academic_time(mktime(9,0,0, 9, 2, 1997)),
				'rrule' => array(array(
					'freq'       => 'daily',
					'count'      => 0,
					'interval'   => 10,
					'bysecond'   => array(),
					'byminute'   => array(),
					'byhour'     => array(),
					'byyearday'  => array(),
					'byweekno'   => array(),
					'bymonthday' => array(),
					'byday'      => array(),
					'bymonth'    => array(),
					'bysetpos'   => array(),
					'wkst'       => 1, // monday
		// 				'debug'      => 1,
				)),
				'expected' => Array(
				),
			),
			*/
		);
	}
}


?>