<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>Rapyd Components - User Guide</title>
<link rel="stylesheet" type="text/css" media="all" href="css/style.css" />
<link rel="stylesheet" type="text/css" href="css/syntax.css" />
<script type="text/javascript" src="js/nav.js"></script>
<script class="javascript" src="js/syntax.js"></script>
<script class="javascript" src="js/syntax_php.js"></script>
</head>
<body onload="dp.SyntaxHighlighter.HighlightAll('code');">

	<div id="content">
  
		<div class="line"></div>
  

<!-- begin header -->
<script type="text/javascript">header();</script>
<!-- end header -->



    <div class="left">

<!-- begin sidebar -->
<script type="text/javascript">sidebar();</script>
<!-- end sidebar -->



    </div>
    
    
		<div class="right">



  <div>

    <h2>DataGrid</h2>
    <p>
DataGrid is a grid (html table) of records, where each row is a record, and each column is a field (like a dbms table layout).
It is a <a href="themes.html">template</a> based component, and it extends <a href="dataset.html">DataSet</a>.
It support a tag-based "functions/fields <a href="concepts.html#pattern">pattern</a>" for process/format directly the output (inside controllers/models).
		</p>

  </div>
  
<div class="line"></div>
      
<h3>Sample:</h3>
  <textarea name="code" class="php:nogutter" rows="15" cols="100">
  

   $this->rapyd->load("datagrid");

    $grid = new DataGrid("Article List", "articles");
    $grid->per_page = 5;
    $grid->use_function("substr","strtoupper");
    $grid->column_detail("ID","article_id",
      site_url('rapydsamples/dataedit/show/<#article_id#>')); 
    
    $grid->column("Title",'title', ' style="color:#ff0000" ');
    $grid->column("Body", "<substr><#body#>|0|4</substr>..");
    $grid->build();
    
    $data["grid"] = $grid->output;
 
 
   </textarea>
      
<img src="img/datagrid.gif" />

    
<div class="line"></div>

		<h3>constructor:</h3>
    <p>
		<var>DataGrid($title, $datasource)</var><br/>
    params: string $title (can be empty), mixed <a href="concepts.html#datasource">$datasource</a> <br/><br/>
    </p>
    
  <div class="line_under"></div>
    
		<h3>main properties:</h3>
		<p>
		<var>base_url</var><br/>
    (the same of CI pagination config) used to build nav-links.<br/>
    It's optional, can be autodetected, if last uri_segment is number it assume that is the page-offset.<br/>
    <br/>
    
		<var>uri_segment</var><br/>
    (the same of CI pagination config) used to build nav-links<br/>
    It's optional, can be autodetected (if not specified rapyd assume it is  the last uri_segment).<br/><br/>
    
		<var>per_page</var><br/>
    (the same of CI pagination config) max number of rows/record per page
		</p>
		<em>.. and all other pagination $congif["vars"]</em>
		
  <div class="line_under"></div>

		<h3>main methods:</h3>
		<p>
		<var>use_function($functionname [, $other_function_name..])</var><br/>
    prepare the tag-engine to exec functions (to be passed in the field <a href="concepts.html#pattern">pattern</a>)<br/>
    In application/config/rapyd.php  you can setup the autoloaded functions.
    <br/><br/>
		<var>column_detail($label, $pattern, $link, $extra_td_attributes)</var><br/>
    append "link" column that can be used to link a dataedit page<br/><br/>
    
		<var>column($label, $pattern, $extra_td_attributes)</var><br/>
    append a normal column.<br/><br/>
    
		<var>column_orderby($label, $pattern, $orderby_field, $extra_td_attributes)</var><br/>
    append a orderby column.<br/><br/>
    
		<var>build()</var><br/>
    exec queries if datasource is ActiveRecord, build html output.<br/>
		it's returned and passed to $grid->output property.
		</p>
		
  <div class="line_under"></div>

		<h3>output:</h3>
		<p>
		<var>output</var><br/>
    string, the built html grid 
		</p>

		
	 </div>
		
</div>
    
<div class="line"></div>
    
<!-- begin footer -->
<script type="text/javascript">footer();</script>
<!-- end footer -->

    
	</div>

  
</body>
</html>